########### HBN Preproc Pipeline ################
#
# The first portion of the script just lists each HBN batchfile and its associated subject list
# The second portion lists the commands run on the entire HBN dataset, organized chronologically
# The third portion is organized by batch file and then chronologically
#
# use qunex_suite-0_48_19_test.sif container

#### batch files and subjects lists for HBN ###### ntot=1669 sessions - n=1757 sessions - n=1758 on spreadsheet
#### CBIC ####
#batchfile: subjects.CBIC_New_T1w-HCP_T2w-VNav.txt - n=193
SUBJECTS="NDARAB348EWR NDARAB458VK9 NDARAB708LM5 NDARAE877NER NDARAH793FBF NDARAT680GJA NDARAU530GLJ NDARAX277ATU NDARBF851NH6 NDARBH992ARB NDARBK106KRH NDARBK638HLZ NDARBN365EV3 NDARBN620TT7 NDARBZ925PRF NDARCD296XU9 NDARCG159AAP NDARCG785NND NDARCH628LKW NDARCP292KPA NDARCR582GKJ NDARCR743RHQ NDARDA656RBN NDARDB720VEA NDARDC814WW2 NDARDD073JKZ NDARDD128NWL NDARDD854GF8 NDARDE877RFH NDARDF374LGN NDARDL305BT8 NDARDN089RX5 NDARDR595ZE5 NDARDV245WJG NDARDX196MZP NDARDY741VEB NDARDZ425JVB NDARED945TNQ NDAREE015WGU NDAREJ327AH7 NDARFA089ZZG NDARFB322DRA NDARFD453NPR NDARFG118DW3 NDARFG851ZNZ NDARFG943GVZ NDARFG953RRK NDARFJ000DCY NDARFT787HJW NDARFU395UBW NDARFU786BN4 NDARFU916UZY NDARFX083RCV NDARGB528CP8 NDARGC148JBJ NDARGH842VFY NDARGL085RTW NDARGM196JMM NDARGM439FZD NDARGP984YLN NDARGR893PUA NDARGU844NZ3 NDARGZ207NNA NDARGZ553TMQ NDARHC814ZZL NDARHD931FNA NDARHG594GKH NDARHH819LH3 NDARHL822EJK NDARHW575ZJ5 NDARHW968ABB NDARHX963YU1 NDARHY676RYH NDARJA737FAJ NDARJC399UW7 NDARJF517HC8 NDARJH492TVW NDARJR473HXT NDARJX458DVE NDARKB421MTA NDARKE456BVQ NDARKF704MKL NDARKG697CEW NDARKM250ET5 NDARKM568HJK NDARKN477EBH NDARKU649DB7 NDARKV353MTD NDARKV807EMJ NDARKX371CJY NDARLA048NYE NDARLT314TWP NDARLU939YX4 NDARLV155RW0 NDARLW774VY1 NDARLY114PDC NDARMC473UHD NDARME689TAF NDARME724FJE NDARME789TD2 NDARMG451PJA NDARMH364EMW NDARMT461DNB NDARMV981GZ7 NDARMY873XG5 NDARMZ366UY8 NDARMZ477MNH NDARNB427ARE NDARNN624AMU NDARNU770PM5 NDARNY419GR2 NDARNZ141GNH NDARPD855ARC NDARPE752VYE NDARPF459CME NDARPF682GDC NDARPH474YF3 NDARPL194XDX NDARPN886HH9 NDARPX838GCD NDARPY478YM0 NDARRB901DWV NDARRF059RMB NDARRV688GUX NDARRW974PEF NDARRX800KW8 NDARRX897XV1 NDARRZ145TFN NDARTB203DU7 NDARTD925CTP NDARTE159EC4 NDARTF776EYR NDARTJ862ENU NDARTM501BT2 NDARTR175UDC NDARTR464DCR NDARTT979FDD NDARUC591FWN NDARUC771VM5 NDARUD871XPD NDARUJ292JXV NDARUK101YT3 NDARUK658FMU NDARUR126CFH NDARUX086TVT NDARUY549PGQ NDARVB902GA5 NDARVC195NLH NDARVD543CMZ NDARVD552PRC NDARVF012BD2 NDARVF159VP9 NDARVG127VW5 NDARVG761NR2 NDARVN363NNQ NDARVN629CRD NDARVV473XTY NDARVX111CNA NDARVY378DFK NDARWG549LCF NDARWK104FLX NDARWP817CVB NDARWT715BMK NDARWU936JGG NDARWX605LAD NDARWY718TY7 NDARXE193CZ1 NDARXL023GFG NDARXL697DA6 NDARXR346UT5 NDARXU376FDN NDARXZ902NFM NDARYA898BRE NDARYA955CY1 NDARYF463RKF NDARYF699FW0 NDARYL090TGH NDARYM063XB8 NDARYN152YMW NDARYW514CH2 NDARYW984FLT NDARYZ986HEW NDARZA511FYF NDARZG861CXJ NDARZH366BF8 NDARZH521MMD NDARZJ587UZU NDARZK601NG9 NDARZL113CU0 NDARZM903TNL NDARZN578YDP NDARZN914GPB NDARZV421TCZ"

#batchfile: subjects.CBIC_New_T1w-HCP_T2w-NONE.txt - n=182 # to troubleshoot: NDARAC350XUM
SUBJECTS="NDARAC350XUM NDARAC857HDB NDARAD615WLJ NDARAG115LZP NDARBG188RA5 NDARBL214YLX NDARBU098PJT NDARCF052AE0 NDARCG808HDJ NDARCH889NUF NDARCM811CV1 NDARCU736GZ1 NDARCU744XWL NDARCV606ZZ5 NDARCW497XW2 NDARDE597GKQ NDARDG929LYJ NDARDH086ZKK NDARDN393BJH NDARDR439HY2 NDARDY776AKH NDAREE675XRY NDAREF888EVV NDAREH852JE0 NDAREK395BM3 NDAREL410HHK NDAREN242VPZ NDAREN417DJE NDAREV342ABE NDAREX336AC1 NDAREY897LB1 NDARFB506UJ3 NDARFB969EMV NDARFE372VHL NDARFF061VUK NDARFG713PLR NDARFM229HHA NDARFM619GTV NDARFM749LF3 NDARFV061AR5 NDARGB000CW8 NDARGF445UFB NDARGK786DWR NDARGR125APK NDARGY542TJ5 NDARHC825ZFZ NDARHE899FJV NDARHG188YE9 NDARHK506HLW NDARHU896TWV NDARHU910KZC NDARHW270BD0 NDARHW933UVJ NDARHX628PC6 NDARHX934KJ5 NDARHY099CUL NDARJA262HTY NDARJA788CH7 NDARJC010YYF NDARJE678MWN NDARJH065GKG NDARJL656RDA NDARJL861WTP NDARJP948FJV NDARJU307YHB NDARJX258XF0 NDARJY676CWZ NDARJZ888UX6 NDARKA958FAH NDARKB290YNY NDARKF442GZ5 NDARKL327YDQ NDARKM096BGW NDARKN633WZA NDARKN988BRP NDARKW010CT2 NDARKW383ZPF NDARKX528PH3 NDARKZ312XR1 NDARLB162XP2 NDARLF446MT5 NDARLK551KXD NDARLM196YRG NDARLM313FVX NDARLY125HMB NDARLZ701LJ3 NDARMA449YB6 NDARMB216LA6 NDARMK825WAX NDARMT661WCR NDARMV319CAT NDARMV605LGH NDARMV822KWR NDARNB905CFU NDARNE729PN2 NDARNF359TBZ NDARNF873FCV NDARNH147WGN NDARNJ633HHX NDARNK005BRN NDARNL587LVL NDARNL926VB7 NDARNT151UN1 NDARPF319WV2 NDARPF937BDQ NDARPH152GU1 NDARPH176EWC NDARPH513LP3 NDARPL215MTH NDARRB403PDE NDARRC295CHW NDARRC982ZE9 NDARRE445RHR NDARRK545WNM NDARRL315KV3 NDARRL426AD5 NDARRR813CY6 NDARRU290EZV NDARRU979UBW NDARRW680PHD NDARRY006EMB NDARRY768ZH3 NDARTC794GZ5 NDARTE773XJ5 NDARTF781TM8 NDARTG679NKQ NDARTH930FNK NDARTJ433TB5 NDARTK357VHL NDARUE398GGV NDARUP067TM8 NDARUR009YJM NDARUT233WU9 NDARUT891XYJ NDARUU615WPR NDARUV041YCY NDARUX408KJ1 NDARUX534HZQ NDARUX885LMW NDARUY339ZLN NDARVB012UWL NDARVB151GXF NDARVC350WVG NDARVC518NWG NDARVC673HFA NDARVC711ZK0 NDARVG132NF6 NDARVL190JA8 NDARVL964HH1 NDARVN715MJ9 NDARVN883AU2 NDARVU320XJZ NDARVY938WR6 NDARWC174VE6 NDARWE898TG8 NDARWR247CE1 NDARWR888KKT NDARWV984WMM NDARWW480TU2 NDARWZ346RV4 NDARXB692PXC NDARXJ452HAJ NDARXK009VGV NDARXK986EK6 NDARXR123PFR NDARXV034WE0 NDARXV294YRJ NDARXY532ZTT NDARYE221LZB NDARYE379GGT NDARYG988PUQ NDARYH697TPA NDARYM277DEA NDARYM586MYN NDARYM994YF0 NDARYN174NPH NDARYT332LMM NDARYU120NDA NDARZE963MEU NDARZF170TZ0 NDARZW873DN3 NDARZY101JNB"

#batchfile: subjects.CBIC_New_T1w-HCP_T2w-HCP.txt -  n=44
SUBJECTS="NDARAC349YUC NDARAC350BZ0 NDARBR128UFP NDARBV167RMU NDARBZ913ZB9 NDAREG930XPP NDAREK255DEE NDARFA233CUK NDARFJ179MG0 NDARGF543PM2 NDARGZ059UVR NDARJC559WW5 NDARJJ277JP3 NDARJT615WM7 NDARJZ167VEZ NDARKG460MWV NDARKM476GFK NDARKR155ME9 NDARKX788PHG NDARKZ479FC8 NDARMA584EM0 NDARMN043YKC NDARRA719CPH NDARRK038CBD NDARTC227AXA NDARUM009GEZ NDARUZ368BT4 NDARVC964LX0 NDARVL498YX5 NDARVX547MA0 NDARWJ414WB8 NDARWP732GD1 NDARWU018VDB NDARXB889WUB NDARXF497LYF NDARYA030ZG7 NDARYE850ZVD NDARYF272EDC NDARYK164AEJ NDARZG081LYG NDARZG236AUT NDARZM739MH6 NDARZT940RZG NDARZT957CWG"

#batchfile: subjects.CBIC_New_T1w-VNav_T2w-NONE.txt - n=2
SUBJECTS="NDARUL454XRE NDARLM194CEN"

#batchfile: subjects.CBIC_Old_T1w-VNav_T2w-NONE.txt  - n=57
SUBJECTS="NDARAM873GAC NDARAV519RND NDARAY461TZZ NDARBT640EBN NDARBU532YXZ NDARCC140AAK NDARCG947ZC0 NDARCP057XJB NDAREC542MH3 NDAREK549XUQ NDAREM155HGQ NDAREU591YYA NDARFB757VY3 NDARFG027BT5 NDARFG757CEU NDARGA563XVW NDARGC471KD1 NDARGK059JW7 NDARGX173AC3 NDARHE199NGL NDARHR763RB4 NDARJF579EH9 NDARJH652HGG NDARJJ343TR0 NDARJU787GF5 NDARJY747PRJ NDARKG594WKT NDARLK963HXP NDARLP507NKW NDARLZ745EUN NDARMU161LHN NDARMZ518UH1 NDARNA335GX2 NDARNA768ZAK NDARNP626EM0 NDARPJ832WL6 NDARRC355BM6 NDARRM586XYL NDARTC802PGL NDARTW958NXU NDARUF152ARR NDARVJ685ZW5 NDARVP953BBF NDARWG911DZG NDARWH778CPD NDARWJ621JRZ NDARWL758PAM NDARWM632AFC NDARWM835BR8 NDARWV487HE0 NDARWV625CRP NDARWV952EZT NDARXM571XCC NDARXV094ZHH NDARYF085LZQ NDARZH930XTP NDARZN677EYE"

#batchfile: subjects.CBIC_Old_T1w-VNav_T2w-HCP.txt - n=4
SUBJECTS="NDARDY714NV9 NDARFJ803JF7 NDARFP909LY1 NDARLH881FBD"

### RU ####
#batchfile: subjects.RU_T1w_T2w.txt - n=313
SUBJECTS="NDARAC495TJ2 NDARAD224CRB NDARAE270LEZ NDARAH304ED7 NDARAJ689BVN NDARAK738BGC NDARAM848GTE NDARAN262WK6 NDARAP522AFK NDARAP785CTE NDARAP964VDB NDARAT358XM9 NDARAU708TL8 NDARAU967RWU NDARAV820UEP NDARAX272ZJL NDARAX283MAK NDARAX358NB5 NDARAY283AU1 NDARBC240LNC NDARBH133TK6 NDARBH228RDW NDARBL042LWN NDARBL444FBA NDARBL935ZUA NDARBM433VER NDARBT607PZL NDARBV577EE0 NDARBW026UGE NDARBW403EVZ NDARCA740UC8 NDARCG438NML NDARCH001CN2 NDARCH868WVX NDARCJ433TCG NDARCU621EBN NDARCV154DB9 NDARCV981XUY NDARCW946WNE NDARCY036NTA NDARCY178KJP NDARCZ915NC1 NDARDA472JE3 NDARDA573XGG NDARDA665DRH NDARDC843HHM NDARDE283PLC NDARDF568GL5 NDARDL291DN4 NDARDN489EXJ NDARDR236FWH NDARDR950CGG NDARDT181RP4 NDARDT499DWP NDARDU853XZ6 NDARDX872VH6 NDARDZ147ETZ NDARDZ528DLZ NDARDZ627XFA NDAREC277JCP NDAREC480KFA NDARED628HMQ NDAREF624KJN NDAREF848YWD NDAREG590BNY NDAREJ923FZU NDAREK575JNM NDAREM609ZXW NDAREP505XAD NDAREV617HAP NDAREW661NZJ NDAREW671HZW NDAREX065KJU NDAREX589EXG NDARFA165XBV NDARFA737TG6 NDARFE299MWU NDARFE526NK3 NDARFK027LB0 NDARFM328XW4 NDARFM948RTJ NDARFR095UJK NDARFR301KKP NDARFT964EU8 NDARFU444HEF NDARFV685ZT2 NDARFX710UZA NDARGA048BD8 NDARGA507DCC NDARGD425PTN NDARGH074MU6 NDARGK672URV NDARGK943RL3 NDARGL936KTV NDARGN044FE4 NDARGR354WBH NDARGU395RFP NDARGV948BFZ NDARGX760NYV NDARHB689WH7 NDARHC453LC1 NDARHF545HFW NDARHG065YHQ NDARHG294AFG NDARHK526BY1 NDARHL684WYU NDARHP841RMR NDARHR099EWX NDARHR140GMB NDARHT095YB4 NDARHT829KKB NDARHT844LZR NDARHX418ZGJ NDARJ257ZU2 NDARJB233RL7 NDARJB355YHK NDARJB366HYJ NDARJD235KZA NDARJE070PLA NDARJG298YVA NDARJG687YYX NDARJH367WKY NDARJH707GJM NDARJH99CWH NDARJJ767FBH NDARJM036PVX NDARJM296MDW NDARJN531EN3 NDARJP146GT9 NDARJT064LRE NDARJT588ZAX NDARJX505XD6 NDARJZ526HN3 NDARKD064EVC NDARKE726AMA NDARKF779EK2 NDARKH171DG8 NDARKH298MA3 NDARKH444AGK NDARKJ322ELL NDARKK000PNQ NDARKK392ZX2 NDARKK774VP5 NDARKM784VA7 NDARKN346XZH NDARKN848XH8 NDARKP053GCC NDARKP893TWU NDARKX665ZD3 NDARKZ634RVX NDARLB671TLU NDARLD738DUM NDARLD978JVJ NDARLE417FRX NDARLE417RA4 NDARLF032LXH NDARLF709KNN NDARLG154ZA3 NDARLJ148JH2 NDARLL331PW8 NDARLP246NT6 NDARLR620FW6 NDARLU111UYF NDARME100GK1 NDARME736MN8 NDARMH559LKK NDARMJ495DE0 NDARMK416UUQ NDARMN690FGZ NDARMP977RHZ NDARMT882AWE NDARMU518TVN NDARMW473LL1 NDARMX277VHC NDARMY254BGN NDARMY456WML NDARMZ790VHM NDARND697FLK NDARNE196LV0 NDARNE406XC3 NDARNF341BNN NDARNH200DA6 NDARNK055HVH NDARNK322PHW NDARNK740ZVM NDARNM147CG2 NDARNM708YTF NDARNN142WYB NDARNR459MUJ NDARNT043XGH NDARNV694EMG NDARNX125KJ1 NDARNX223DY3 NDARNY023FWG NDARNY894TH7 NDARNZ610KZY NDARPB619PHV NDARPD029JVJ NDARPD568LHV NDARPF395NV5 NDARPG847LB8 NDARPH923FN7 NDARPK237YHD NDARPK300HMV NDARPL201YL4 NDARPP622WV4 NDARPP726XBF NDARPZ344ZGE NDARRB338YZ0 NDARRD943ZWU NDARRH285LR3 NDARRH344TL7 NDARRM073JKA NDARRM122UPB NDARRP008LJ6 NDARRP384BVX NDARRP801AX1 NDARRU729XRU NDARRV941EAC NDARRW141HUT NDARRW951BYF NDARRZ927VC3 NDARTA819MF0 NDARTB294NF0 NDARTB755MF5 NDARTC652JK4 NDARTC865YNZ NDARTG035JK8 NDARTG396FGE NDARTN173MXV NDARTP270UAV NDARTT013GUN NDARTT272WT5 NDARTT667RKQ NDARTV525XC0 NDARTY225EWV NDARTZ901LDK NDARUB231LHN NDARUB495UD1 NDARUD776KFT NDARUE483WZ4 NDARUG492VF0 NDARUJ894ZXG NDARUK329RUU NDARUL675RXW NDARUM797TFA NDARUP908XUJ NDARUV578DU2 NDARUY730ANT NDARVA930UA3 NDARVC305AC6 NDARVC716GEE NDARVD194JX2 NDARVH033CA4 NDARVK720WZ0 NDARVK922KE5 NDARVL697YGK NDARVN270UU2 NDARVN648NN2 NDARVN899GWP NDARVN920VHJ NDARVT072LX2 NDARWA433WYZ NDARWC427JB2 NDARWC801CB5 NDARWD585PRZ NDARWD911WBU NDARWH779MZ2 NDARWJ064WYP NDARWJ498CZY NDARWK983JFE NDARWM656UWL NDARWM848AKP NDARWN709HA2 NDARWN885MGD NDARWT086XMF NDARWU876CWH NDARWV568MEU NDARWV794VM2 NDARWX711LBK NDARXD345GBN NDARXD710RLN NDARXE542EMB NDARXF358XGE NDARXG646PM9 NDARXG767MTB NDARXH393TMM NDARXH529MTX NDARXL023NG9 NDARXN764AC7 NDARXP557DLJ NDARXT256FRP NDARXT256RNV NDARYB392JWP NDARYC243UW5 NDARYC466ER1 NDARYC594EHN NDARYF338WW1 NDARYG391PMU NDARYG665JUD NDARYJ301DYN NDARYJ638RTN NDARYM334BZ5 NDARYN595JMA NDARYU898ETS NDARYX806FL1 NDARYY022HBW NDARYZ489EHH NDARZC344VH2 NDARZE685UJ5 NDARZG690NHH NDARZW472CCF NDARZZ740MLM"

#batchfile: subjects.RU_T1w_T2w-NONE.txt - n=536
SUBJECTS="NDARAA948VFH NDARAC853DTE NDARAC904DMU NDARAD232HVV NDARAE012DGA NDARAE358VBE NDARAG340ERT NDARAH503YG1 NDARAH948UF0 NDARAM675UR8 NDARAN814UPR NDARAP176AD1 NDARAP782TVC NDARAT581NDH NDARAV610EY3 NDARAW179AYF NDARBA680RFY NDARBC734UVY NDARBE091BGD NDARBE123PWH NDARBE641DGZ NDARBF176LPM NDARBF805EHN NDARBG574KF4 NDARBG831VK4 NDARBJ159HXB NDARBJ482HJL NDARBK082PDD NDARBM173BJG NDARBM839WR5 NDARBR740NKV NDARBU607ZZ3 NDARBU730PN8 NDARBU928LV0 NDARBV059CGE NDARBV680AA8 NDARBX121UM9 NDARBX400RTC NDARBX974XDR NDARCA116GH8 NDARCA153NKE NDARCA578CEB NDARCA690EBC NDARCD357CZR NDARCE353XKH NDARCE721YB5 NDARCF247TDJ NDARCG037CX4 NDARCG073GZ6 NDARCH881EFG NDARCJ170CT9 NDARCJ363KLE NDARCJ475WJP NDARCK647MU6 NDARCL016NHB NDARCL105LUE NDARCL590LPD NDARCM135DVC NDARCM302VJ1 NDARCN669XPR NDARCR499NE4 NDARCU118LMX NDARCU417HRA NDARCU865PBV NDARCV944JA6 NDARCW071AU5 NDARCW094JCG NDARCW611MK5 NDARCW933FD5 NDARCW963FP9 NDARCX053GU5 NDARCZ770BRG NDARCZ947WU5 NDARDB146NWY NDARDC704GKW NDARDC987BMU NDARDD531EP2 NDARDE294HNX NDARDF373ZDW NDARDH270YR5 NDARDL511UND NDARDM118LR6 NDARDP786HE6 NDARDR067YMC NDARDR458MR7 NDARDT528ZZJ NDARDU986RBM NDARDV222JZ6 NDARDW416KWZ NDARDY150ZP9 NDARDZ010EDH NDARDZ058NZN NDAREB093GH6 NDAREC078VFT NDAREC648WEL NDAREC964CRA NDAREF164ZUJ NDAREF389RY2 NDAREF893ZM8 NDAREG561ML5 NDAREH074NG8 NDAREK801BPB NDAREM703YFD NDAREM731BYM NDAREM887YY8 NDAREN519BLJ NDAREN667YTZ NDARER970AEF NDARET550NXC NDAREU551GPC NDAREV527ZRF NDAREV601CE7 NDAREX091KUR NDAREY778CR9 NDARFA402LMW NDARFA815FXE NDARFA860RPD NDARFB908HVX NDARFC203HCD NDARFD822TY5 NDARFE163HVN NDARFF644ZGD NDARFG568PXZ NDARFK477WX9 NDARFK610GY5 NDARFL506HVX NDARFR108JNB NDARFR820KFF NDARFT881VT6 NDARFV780ABD NDARFW578RU9 NDARFW972KFQ NDARFX455JFY NDARFY009MNL NDARGA056TMW NDARGA499CKF NDARGA815EUZ NDARGB040MGR NDARGB441VVD NDARGD507TDZ NDARGE536BGD NDARGE946RCB NDARGF367KVL NDARGG205WVN NDARGG539YGN NDARGH634ME7 NDARGH775KF5 NDARGH790CEF NDARGJ395FKP NDARGK041TPB NDARGK736HF4 NDARGL800LDW NDARGT267UZR NDARGT551AFK NDARGT682ZWN NDARGU100JH4 NDARGU485JJA NDARGU729WUR NDARGV781AMW NDARGW404GJL NDARGX443CEU NDARGY622NG6 NDARGZ038DRL NDARGZ361JJ9 NDARHA387FPM NDARHB764VZ2 NDARHC462NGR NDARHC737MHK NDARHD507TEF NDARHE283KZN NDARHF150FDY NDARHF351AA6 NDARHG152GZC NDARHG321LLD NDARHJ034LDM NDARHJ945PV0 NDARHL164JHH NDARHM413HVA NDARHM421JUP NDARHM611GDR NDARHN067BTE NDARHN158DC6 NDARHN749RW4 NDARHP924ZHW NDARHR372GJ7 NDARHR753ZKU NDARHU391FD7 NDARHV527DNK NDARHW718DTW NDARHY177LY9 NDARHZ255RA6 NDARHZ923PAH NDARJA157YB3 NDARJB027GMR NDARJE686DJL NDARJF755DT9 NDARJG300HWH NDARJG488XHT NDARJG740PM8 NDARJG821GH3 NDARJJ413MNH NDARJK910PDK NDARJL303FKR NDARJM239GN4 NDARJM828PAL NDARJP444DZM NDARJT517YHZ NDARJT523MV7 NDARJV268PNW NDARJV377HG4 NDARJW315BUA NDARJW373UE3 NDARJW685KBA NDARJY033DKZ NDARJY141RFE NDARJZ089HVP NDARJZ274PRQ NDARJZ679KXJ NDARKA085YRG NDARKA627LF8 NDARKA946MJ1 NDARKB547TCK NDARKC880ZHY NDARKD134TCX NDARKF909WM5 NDARKG720WXN NDARKG859AGN NDARKH837TB2 NDARKK732JW3 NDARKL916FDC NDARKM301DY0 NDARKM497VKX NDARKM635UY0 NDARKM941XLL NDARKN509RP9 NDARKP815KPZ NDARKT811ATJ NDARKU616UBL NDARKV965WLU NDARKW521EMY NDARKW738AMY NDARKY667THK NDARLB547HJD NDARLD016VCA NDARLD287MLP NDARLE554GYT NDARLF142AF5 NDARLF480DMW NDARLH979WFX NDARLJ334YD0 NDARLJ356HAQ NDARLJ654TZ0 NDARLJ886BFK NDARLL720BGU NDARLL790WLF NDARLL914UW4 NDARLN070VX7 NDARLN778RYN NDARLN961XGP NDARLP624GFH NDARLR030EW6 NDARLU606ZDD NDARLV387GP4 NDARLX836EHJ NDARLY483UNZ NDARLY585ZVN NDARMA449JDZ NDARMC325JCN NDARMC759CX3 NDARMD575AXD NDARMF116AFR NDARMF508PA2 NDARMG196KV4 NDARMH249AWF NDARMJ219AKU NDARMJ334ZK3 NDARMJ849UKD NDARML024FF2 NDARML406ZB8 NDARMM005DLK NDARMM137PT6 NDARMM326JCB NDARMM951YEH NDARMN302YAV NDARMN376BMF NDARMN695VFH NDARMP745EAC NDARMR039JV5 NDARMR277TT7 NDARMT064WBB NDARMT732GKM NDARMT784NED NDARMU053YEU NDARMU589LP6 NDARMV274TAY NDARMV718DYL NDARMW178UDD NDARMY294VNE NDARMZ200GVD NDARMZ687XRR NDARNB674VMY NDARNC561KDP NDARND348HB3 NDARNE758RD6 NDARNF994TPA NDARNK241ZXA NDARNK329VC3 NDARNK768THB NDARNK826AFY NDARNL134VF0 NDARNL807DKC NDARNM783ZVV NDARNN218UGY NDARNR709MMQ NDARNR734JZH NDARNR773DL4 NDARNT541VT2 NDARNU137XR4 NDARNU497GTX NDARNV399BV4 NDARNX218UY5 NDARNY875DR2 NDARNZ615UEU NDARNZ792HBN NDARNZ917TDK NDARPA570LBF NDARPA827UBJ NDARPC714TKA NDARPC817XZ5 NDARPE056ACA NDARPF179GNV NDARPG134TF1 NDARPH834YB1 NDARPH844KP2 NDARPL306LC6 NDARPM105MKA NDARPT910NEE NDARPU897CM5 NDARPV009TYX NDARPV145KGL NDARPV303LAX NDARPW313LAJ NDARPW577WJ7 NDARPW635LN4 NDARPW786GC4 NDARPW915RGD NDARPX155RF3 NDARPX219TW0 NDARRA537FWW NDARRA717GYV NDARRA767WB7 NDARRA933RLX NDARRB359CRR NDARRB942UWU NDARRC016UZE NDARRC190NKB NDARRD326KB9 NDARRF897HB5 NDARRG199RU4 NDARRJ989YPA NDARRK213WCF NDARRK882CLT NDARRL660CME NDARRL685WB7 NDARRM320RHN NDARRN444MJG NDARRP163YRC NDARRP818DWL NDARRT038VG1 NDARRU720LG4 NDARRV480PU1 NDARRV837BZQ NDARRW100AU0 NDARRW940BL6 NDARRX819BZ0 NDARRY268AF2 NDARRY280KNW NDARRY715CY4 NDARTE424BUF NDARTE785ZMJ NDARTF133LLM NDARTH473LF8 NDARTJ032FJ2 NDARTK682LJE NDARTK691PJJ NDARTK834FT9 NDARTK933KL9 NDARTK950DY5 NDARTL336THT NDARTN158LRF NDARTN487KDK NDARTP313AGH NDARTP795WU2 NDARTT194LTU NDARTT242GNN NDARTU777GVV NDARTW685ENR NDARTW850GHU NDARTW855BPJ NDARTW889JN9 NDARTX659HAF NDARTX795AKR NDARUA832MYV NDARUC851WHU NDARUE533XNH NDARUE603CHQ NDARUG278FNY NDARUG323DM3 NDARUJ744NEU NDARUJ779NM0 NDARUL224GN6 NDARUL456EER NDARUM791WPF NDARUN221VCJ NDARUN300FG1 NDARUP249AMD NDARUR987CDM NDARUT018UYN NDARUT470BM4 NDARUV263YB5 NDARUW816MP3 NDARUW904FMQ NDARUX216VHK NDARUX284GGB NDARUX886JLM NDARUZ206DRV NDARVB297WUM NDARVC310XV2 NDARVD635FX8 NDARVD685RRJ NDARVG597HNL NDARVL555VVA NDARVP135ZGE NDARVP281CJ4 NDARVP285RXV NDARVT454LAE NDARVT488RXJ NDARVU683CTN NDARVV174JHW NDARVV199XK2 NDARVX162AZU NDARVY366HWJ NDARWA351ZE2 NDARWA513WM2 NDARWA544RDT NDARWA622HHZ NDARWG798MJG NDARWG831JJ8 NDARWH725TXP NDARWJ217HDQ NDARWJ321WKG NDARWK065NJ9 NDARWM319UU2 NDARWM527PRT NDARWN523GVF NDARWN691CG7 NDARWP595TE6 NDARWP634RZL NDARWP954GPJ NDARWR678HLF NDARWR732NZE NDARWT389BYY NDARWT449PUN NDARWV405ZW0 NDARWV449GEM NDARWW003WWW NDARWW005GCU NDARWX338NDL NDARWZ024UYK NDARXB286YBR NDARXC878WB2 NDARXD388TTE NDARXD502MC1 NDARXF203DCD NDARXG108HK2 NDARXG571WPL NDARXG670HFE NDARXG736VP9 NDARXG995EV6 NDARXH597ML1 NDARXK076XU8 NDARXL588FFJ NDARXR637JER NDARXR965TFK NDARXT792GY8 NDARXT822TAA NDARXU018RGY NDARXV445NYZ NDARXX895FNJ NDARXY162ERA NDARXY240WJC NDARXY745NXJ NDARXY938XY7 NDARXZ685TU4 NDARYA503XVQ NDARYA556KP8 NDARYD195BDH NDARYD546HCB NDARYE521RDA NDARYF135ZHU NDARYF368WEA NDARYF728BEP NDARYG546ZFF NDARYG874EKA NDARYH951HH5 NDARYL124VM6 NDARYL758JGG NDARYN254VW6 NDARYR150UDP NDARYR829KD8 NDARYR994ELB NDARYT155NHX NDARYX592YYR NDARYY218LU2 NDARYY664KHF NDARYZ693DE2 NDARYZ770NA1 NDARYZ909VND NDARZA694WHF NDARZC499NVX NDARZD099KWW NDARZD415ZZ1 NDARZE850WXD NDARZH451LRZ NDARZJ016GL0 NDARZJ460RWZ NDARZJ603JM0 NDARZK732FZ0 NDARZK753WGR NDARZL724HAX NDARZL855WVA NDARZN277NR6 NDARZP630WYL NDARZU822WN3 NDARZW930MF2 NDARZY668NMV"

### SI ####
#batchfile: subjects.SI_T1w-HCP_T2w-NONE.txt n=338
SUBJECTS="NDARAA075AMK NDARAA536PTU NDARAD481FXF NDARAE199TDD NDARAJ366ZFA NDARAK187ZLP NDARAM277WZT NDARAR025WX4 NDARAT100AEQ NDARAT299YRR NDARAV747WVL NDARAV894XWD NDARAV945MCQ NDARAY238DFL NDARBA507GCT NDARBA521RA8 NDARBB854DRN NDARBC580HR5 NDARBG702FED NDARBK669XJQ NDARBM213BEA NDARBN100LCD NDARBU112XZE NDARBV364MBC NDARBZ216FW8 NDARCA186WGH NDARCA789EE0 NDARCB959FY4 NDARCD401HGZ NDARCG984YXZ NDARCJ007GF8 NDARCL080RHP NDARCP360AFD NDARCT933HF2 NDARCV412MDW NDARCW419GBD NDARDA695XTL NDARDB804YHE NDARDC360DGB NDARDH328DR9 NDARDJ825GBP NDARDK983BDA NDARDM425CG2 NDARDN702GXX NDARDN770HY6 NDARDR658DRA NDARDU799BZF NDARDX469TC1 NDARDX561MRY NDARDX770PJK NDARDZ946KVL NDAREB290UCN NDAREC182WW2 NDARED047DTH NDARED632KNG NDAREE196FEG NDAREF057VX5 NDAREK375DKR NDAREK544ENR NDAREK918EC2 NDAREK947FYP NDAREL063PMX NDAREM018TJQ NDAREM141CKP NDARET653TAM NDARET949LMU NDAREU211JMY NDAREY962BM7 NDAREZ098ZPE NDARFA464HJQ NDARFB107PVH NDARFB500HHN NDARFH674DWX NDARFL411AT1 NDARFM080VAF NDARFN452VPC NDARFR109LKT NDARFT834NT1 NDARFU789PRX NDARFW130NGG NDARFW292PBD NDARFW444PN1 NDARFY612EMR NDARFZ296UNG NDARGA967MGC NDARGE366WNC NDARGH407KVG NDARGL834CMQ NDARGL963HU4 NDARGM498YFL NDARGM540EV8 NDARGM610LF0 NDARGR661YZG NDARGT022BEW NDARGU667MCK NDARGY054ENV NDARGY148EVU NDARHB781DD8 NDARHB993EV0 NDARHD059PEQ NDARHE236YLB NDARHF023VG3 NDARHF904CWB NDARHJ126UW2 NDARHJ523XGB NDARHJ946UPH NDARHK598YJC NDARHL238VL2 NDARHL358LGQ NDARHM273AXL NDARHM304AXP NDARHM615PJH NDARHP176DPE NDARHP558MGA NDARHR944BBY NDARHT218GFA NDARHW216PER NDARHX739YBW NDARHX877BLQ NDARHZ439EBY NDARJC514CE0 NDARJH925ZCD NDARJJ356DAL NDARJK085PZL NDARJM708VGE NDARJP133YL3 NDARJP489HCE NDARJR525HTX NDARJR687LGX NDARJT606WGQ NDARJT730WP0 NDARJV894XP2 NDARJX421FWR NDARJZ549HU8 NDARKA429EPF NDARKC403LRW NDARKC452YVR NDARKF615JNZ NDARKG785VAJ NDARKH421UB1 NDARKH741PL8 NDARKM551DA4 NDARKR010EN7 NDARKR195PL9 NDARKV482FU9 NDARKW531ACR NDARKW999WZD NDARKX346VTV NDARKX761BH9 NDARLA516PH1 NDARLB017MBJ NDARLB629BJ1 NDARLD990NH4 NDARLF283KJX NDARLG942AZ1 NDARLL389TUF NDARLP181HLA NDARLP858RAA NDARLZ104NDT NDARLZ228PCB NDARMA875ARE NDARMC412BCK NDARMD700NUE NDARME656MTN NDARME930DE7 NDARMH763YZD NDARMJ699RJN NDARML142BEK NDARML148UCE NDARMM386PL6 NDARMM782KJK NDARMM878ZR1 NDARMM905VYR NDARMM990URX NDARMN450PEH NDARMR242UKQ NDARMU269TFY NDARMU488APK NDARMV247HRA NDARMV410ZFY NDARMW252AJW NDARMX032AU3 NDARMY064EAD NDARMY533CYM NDARMY967HNA NDARMZ908DUR NDARNB440UE4 NDARNB824ARJ NDARNE511XHU NDARNF954MK3 NDARNG309KZ8 NDARNG689AAP NDARNH342XLK NDARNJ687DMC NDARNJ715JPV NDARNJ894VH2 NDARNL599TMZ NDARNM624PDC NDARNT042GRA NDARNT572CMD NDARNT939YMG NDARNU249EDF NDARNV332JF2 NDARNW218ZBU NDARPD977VX2 NDARPE404CMV NDARPE596LZL NDARPF118ABV NDARPG072ZZ7 NDARPL721WTD NDARPP337KUQ NDARPP703NX4 NDARPR768KT4 NDARPV249ZRF NDARPW482TVE NDARPX244EHJ NDARPZ621ZLE NDARRA733VWX NDARRD720XZK NDARRE333EKT NDARRH725XYA NDARRJ763GUF NDARRK457MBX NDARRL218DJ5 NDARRN619WHY NDARRP592GHK NDARRU600XWW NDARRZ199KNG NDARRZ653HKY NDARTA808DEQ NDARTF833WXB NDARTH610GMK NDARTK185PBH NDARTK657DV6 NDARTM946WJ7 NDARTR365NCY NDARTR840XP1 NDARTT759PC5 NDARTU768MY1 NDARTX012JHM NDARTY625VHZ NDARUA421HT8 NDARUD764NFJ NDARUF069EHR NDARUF389TXE NDARUF935UL3 NDARUG507AZX NDARUJ646APQ NDARUL341DD2 NDARUL881JR9 NDARUM569EV1 NDARUM991EE8 NDARUT792WX7 NDARUV753MY9 NDARUY876VL1 NDARVB04TJA NDARVB607WW4 NDARVB811FVD NDARVC246ZY8 NDARVE724GEF NDARVG148WHV NDARVG436WGG NDARVG461LA2 NDARVG971CHH NDARVH070WH6 NDARVJ504DAA NDARVM685MER NDARVN646NZP NDARVT231LJG NDARVX292KKC NDARVY007TEJ NDARWB685NUG NDARWB943YY9 NDARWC737UJ0 NDARWE145GN9 NDARWF090RZ7 NDARWF122UUJ NDARWJ019VGU NDARWJ087HKJ NDARWP237VB3 NDARWV155PRG NDARWV470ATB NDARWV677EFC NDARWW901MTC NDARWX033HYK NDARWX380JJK NDARWZ283CWB NDARWZ709DLY NDARXB704HFD NDARXC418YG7 NDARXE684LUY NDARXF441RHQ NDARXF623GEL NDARXF956ZU6 NDARXH017ZLE NDARXJ468UGL NDARXJ696AMX NDARXJ799NEB NDARXK164TNN NDARXK462WRZ NDARXN047RUT NDARXN425ZJB NDARXU437UFZ NDARXU679ZE8 NDARXY337ZH9 NDARYB563VRT NDARYH110YV9 NDARYH480GTD NDARYH996DA9 NDARYJ536MCR NDARYL272HDW NDARYL438DCK NDARYM257RR6 NDARYM695TZY NDARYM832PX3 NDARYN484LLR NDARYP495KFK NDARYU323ZDJ NDARYU620RH9 NDARYW903VN8 NDARYX530MZU NDARYY218AGA NDARYZ408VWW NDARZB377WZJ NDARZD991YLG NDARZE542ZVH NDARZF288FB7 NDARZF949WTW NDARZG263HRK NDARZG623FYX NDARZH517ZVK NDARZH629NVF NDARZJ414CAA NDARZP564MHU NDARZR567HWG NDARZT772PU4 NDARZV766YXP NDARZW013RUH"


###################### preparing for HCP preprocessing pipeline ###################
 mnapContainer BIDSImport \
  --subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
  --inbox="/gpfs/project/fas/n3/Studies/HBN/subjects/inbox/Site-RU/" \
  --action='copy' \
  --archive='leave' \
  --overwrite="no" \
  --image="/gpfs/project/fas/n3/software/Singularity/mnap_suite-latest.simg" \
  --scheduler="SLURM,time=7-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=50000,partition=pi_anticevic"

 mnapContainer BIDSImport \
  --subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
  --inbox="/gpfs/project/fas/n3/Studies/HBN/subjects/inbox/Site-SI/" \
  --action='copy' \
  --archive='leave' \
  --overwrite="no" \
  --image="/gpfs/project/fas/n3/software/Singularity/mnap_suite-latest.simg" \
  --scheduler="SLURM,time=7-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=50000,partition=pi_anticevic"

   mnapContainer BIDSImport \
  --subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
  --inbox="/gpfs/project/fas/n3/Studies/HBN/subjects/inbox/Site-CBIC/" \
  --action='copy' \
  --archive='leave' \
  --overwrite="no" \
  --image="/gpfs/project/fas/n3/software/Singularity/mnap_suite-latest.simg" \
  --scheduler="SLURM,time=7-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=50000,partition=pi_anticevic"

###### Setup HCP files for all subjects ## using HCP_mapping.txt file
mnapContainer getHCPReady \
--subjectsfolder='/gpfs/project/fas/n3/Studies/HBN/subjects' \
--subjects="NDAR*" \
--mapping="/gpfs/project/fas/n3/Studies/HBN/subjects/specs/HBN_mapping.txt" \
--overwrite="no" \
--image="/gpfs/project/fas/n3/software/Singularity/mnap_suite-latest.simg" \
--scheduler="SLURM,time=7-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=30000,partition=pi_anticevic"

# 20191230 - rerun for HCP1 step
qunexContainer getHCPReady \
--subjectsfolder='/gpfs/project/fas/n3/Studies/HBN/subjects' \
--subjects="NDAR*" \
--mapping="/gpfs/project/fas/n3/Studies/HBN/subjects/specs/HBN_mapping.txt" \
--overwrite="no" \
--scheduler="SLURM,time=1-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif"

# now called setupHCP
# prepare a single or several subjects in a study
cd /gpfs/project/fas/n3/Studies/HBN/subjects/
for file in NDAR*; do \
 mnapContainer mapHCPFiles \
 --subjects="$file" \
 --subjectfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
 --overwrite='yes' \
 --image="/gpfs/project/fas/n3/software/Singularity/mnap_suite-latest.simg" \
 --scheduler="SLURM,time=7-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=30000,partition=pi_anticevic"; \
done
mv slurm* /gpfs/project/fas/n3/Studies/HBN/processing/logs/mapHCPFiles

cd /gpfs/project/fas/n3/Studies/HBN/subjects/
for file in NDAR*; do \
 mnapContainer mapHCPFiles \
 --subjects="$file" \
 --subjectfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
 --overwrite='yes' \
 --image="/gpfs/project/fas/n3/software/Singularity/mnap_suite-latest.simg" \
 --scheduler="SLURM,time=7-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=30000,partition=pi_anticevic"; \
done
mv slurm* /gpfs/project/fas/n3/Studies/HBN/processing/logs/mapHCPFiles

# 20191230 - rerun for HCP1 step
cd /gpfs/project/fas/n3/Studies/HBN/subjects/
for file in NDAR*; do \
 qunexContainer setupHCP \
 --subjects="$file" \
 --subjectfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
 --overwrite='yes' \
 --scheduler="SLURM,time=1-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic" \
 --container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif"; \
 done

cd /gpfs/project/fas/n3/Studies/HBN/subjects
for file in NDAR*; do
qunexContainer setupHCP \
--sfolder="/gpfs/project/fas/n3/Studies/HBN/subjects/$file" \
--sfile="subject_hcp.txt" \
--scheduler="SLURM,time=1-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif"; \
done
mv slurm* /gpfs/project/fas/n3/Studies/HBN/processing/logs/jobs_slurm/

################### create batch file ##########################
## compiling whole group dummy batch file
/gpfs/project/fas/n3/Studies/ThalDev/processing/scripts/mnapContainer.sh createBatch \
 --sfile="subject_hcp.txt" \
 --tfile="/gpfs/project/fas/n3/Studies/HBN/processing/subjects.hbn.txt" \
 --overwrite="append" \
 --subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
 --subjects="NDAR*" \
 --container="/gpfs/project/fas/n3/software/Singularity/mnap_suite-latest.simg" \
 --scheduler="SLURM,time=0-00:10:00,ntasks=1,cpus-per-task=1,mem-per-cpu=5000,partition=scavenge"

############################################################################################
## - 1. ###################### CBIC_New_T1w-HCP_T2w-HCP preprocessing ############################
############################################################################################

#batchfile: subjects.CBIC_New_T1w-HCP_T2w-HCP.txt

## createBatch ##
declare -a SESID=("NDARAC349YUC NDARAC350BZ0 NDARBR128UFP NDARBV167RMU NDARBZ913ZB9 NDAREG930XPP NDAREK255DEE NDARFA233CUK NDARFJ179MG0 NDARGF543PM2 NDARGZ059UVR NDARJC559WW5 NDARJJ277JP3 NDARJT615WM7 NDARJZ167VEZ NDARKG460MWV NDARKM476GFK NDARKR155ME9 NDARKX788PHG NDARKZ479FC8 NDARMA584EM0 NDARMN043YKC NDARRA719CPH NDARRK038CBD NDARTC227AXA NDARUM009GEZ NDARUZ368BT4 NDARVC964LX0 NDARVL498YX5 NDARVX547MA0 NDARWJ414WB8 NDARWP732GD1 NDARWU018VDB NDARXB889WUB NDARXF497LYF NDARYA030ZG7 NDARYE850ZVD NDARYF272EDC NDARYK164AEJ NDARZG081LYG NDARZG236AUT NDARZM739MH6 NDARZT940RZG NDARZT957CWG")
arraylength=${#SESID[@]}
for ((i=0; i<${arraylength}; i++));do
qunexContainer createBatch \
--sfile="subject_hcp.txt" \
--tfile="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-HCP.txt" \
--overwrite="append" \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--subjects=${SESID[$i]} \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=0-00:20:00,ntasks=1,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic_bigmem"
done
mv slurm* /gpfs/project/fas/n3/Studies/HBN/processing/logs/createBatchSlurm

# update batch file to ignore duplicate T1w
sed -i 's/T1w             :T1w acq-VNav/                :T1w acq-VNav/g' /gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-HCP.txt


# rm unprocessed/T1w folder and hcp/[subjid]/T1w folder for each subject
# we removed the unprocessed T1w folder because we want to get rid of the duplicate T1w files here.
# we want to delete the hcp/[subjid]/T1w folder because it causes an error when rerunning HCP1 with overwrite=on if we keep this folder
# change subject list
#run DM 6/18/20
SUBJECTLIST="NDARAC349YUC NDARAC350BZ0 NDARBR128UFP NDARBV167RMU NDARBZ913ZB9 NDAREG930XPP NDAREK255DEE NDARFA233CUK NDARFJ179MG0 NDARGF543PM2 NDARGZ059UVR NDARJC559WW5 NDARJJ277JP3 NDARJT615WM7 NDARJZ167VEZ NDARKG460MWV NDARKM476GFK NDARKR155ME9 NDARKX788PHG NDARKZ479FC8 NDARMA584EM0 NDARMN043YKC NDARRA719CPH NDARRK038CBD NDARTC227AXA NDARUM009GEZ NDARUZ368BT4 NDARVC964LX0 NDARVL498YX5 NDARVX547MA0 NDARWJ414WB8 NDARWP732GD1 NDARWU018VDB NDARXB889WUB NDARXF497LYF NDARYA030ZG7 NDARYE850ZVD NDARYF272EDC NDARYK164AEJ NDARZG081LYG NDARZG236AUT NDARZM739MH6 NDARZT940RZG NDARZT957CWG"
for file in ${SUBJECTLIST}; do \
rm -r /gpfs/project/fas/n3/Studies/HBN/subjects/${file}/hcp/${file}/unprocessed/T1w; \
rm -r /gpfs/project/fas/n3/Studies/HBN/subjects/${file}/hcp/${file}/T1w; \
done

# remove duplicate T1w from each subject's subject_hcp.txt file
# change subject list and change the sed command to match this batch file
#run DM 6/18/20
SUBJECTLIST="NDARAC349YUC NDARAC350BZ0 NDARBR128UFP NDARBV167RMU NDARBZ913ZB9 NDAREG930XPP NDAREK255DEE NDARFA233CUK NDARFJ179MG0 NDARGF543PM2 NDARGZ059UVR NDARJC559WW5 NDARJJ277JP3 NDARJT615WM7 NDARJZ167VEZ NDARKG460MWV NDARKM476GFK NDARKR155ME9 NDARKX788PHG NDARKZ479FC8 NDARMA584EM0 NDARMN043YKC NDARRA719CPH NDARRK038CBD NDARTC227AXA NDARUM009GEZ NDARUZ368BT4 NDARVC964LX0 NDARVL498YX5 NDARVX547MA0 NDARWJ414WB8 NDARWP732GD1 NDARWU018VDB NDARXB889WUB NDARXF497LYF NDARYA030ZG7 NDARYE850ZVD NDARYF272EDC NDARYK164AEJ NDARZG081LYG NDARZG236AUT NDARZM739MH6 NDARZT940RZG NDARZT957CWG"
for file in ${SUBJECTLIST}; do \
sed -i 's/T1w             :T1w acq-VNav/                :T1w acq-VNav/g' /gpfs/project/fas/n3/Studies/HBN/subjects/${file}/subject_hcp.txt
done

## - rerun setupHCP for deleted T1w folders
# change subject list
#run DM 6/21/20
SUBJECTLIST="NDARAC349YUC NDARAC350BZ0 NDARBR128UFP NDARBV167RMU NDARBZ913ZB9 NDAREG930XPP NDAREK255DEE NDARFA233CUK NDARFJ179MG0 NDARGF543PM2 NDARGZ059UVR NDARJC559WW5 NDARJJ277JP3 NDARJT615WM7 NDARJZ167VEZ NDARKG460MWV NDARKM476GFK NDARKR155ME9 NDARKX788PHG NDARKZ479FC8 NDARMA584EM0 NDARMN043YKC NDARRA719CPH NDARRK038CBD NDARTC227AXA NDARUM009GEZ NDARUZ368BT4 NDARVC964LX0 NDARVL498YX5 NDARVX547MA0 NDARWJ414WB8 NDARWP732GD1 NDARWU018VDB NDARXB889WUB NDARXF497LYF NDARYA030ZG7 NDARYE850ZVD NDARYF272EDC NDARYK164AEJ NDARZG081LYG NDARZG236AUT NDARZM739MH6 NDARZT940RZG NDARZT957CWG"
for file in ${SUBJECTLIST}; do \
qunexContainer setupHCP \
--sfolder="/gpfs/project/fas/n3/Studies/HBN/subjects/${file}" \
--sfile="subject_hcp.txt" \
--scheduler="SLURM,time=1-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif"; \
done

##### Minimal Preprocessing Pipeline
## hcp1 ##
#ran 180910
# ran 191118
qunexContainer hcp1 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-HCP.txt" \
--cores="1" \
--hcp_t2="t2" \
--overwrite="yes" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=7-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic_bigmem"

## TEST 2020-02 > successful
qunexContainer hcp1 \
 --subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
 --sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-HCP.txt" \
 --subjid="NDARAC349YUC" \
 --cores="1" \
 --hcp_t2="t2" \
 --overwrite="no" \
 --container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
 --scheduler="SLURM,time=1-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=8000,partition=pi_anticevic_bigmem"

 # all subj 2/11/20 run DM
 qunexContainer hcp1 \
 --subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
 --sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-HCP.txt" \
 --cores="1" \
 --hcp_t2="t2" \
 --overwrite="no" \
 --container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
 --scheduler="SLURM,time=1-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic_bigmem"

#all subj run DM 6/28/20
SUBJECTLIST="NDARAC349YUC NDARAC350BZ0 NDARBR128UFP NDARBV167RMU NDARBZ913ZB9 NDAREG930XPP NDAREK255DEE NDARFA233CUK NDARFJ179MG0 NDARGF543PM2 NDARGZ059UVR NDARJC559WW5 NDARJJ277JP3 NDARJT615WM7 NDARJZ167VEZ NDARKG460MWV NDARKM476GFK NDARKR155ME9 NDARKX788PHG NDARKZ479FC8 NDARMA584EM0 NDARMN043YKC NDARRA719CPH NDARRK038CBD NDARTC227AXA NDARUM009GEZ NDARUZ368BT4 NDARVC964LX0 NDARVL498YX5 NDARVX547MA0 NDARWJ414WB8 NDARWP732GD1 NDARWU018VDB NDARXB889WUB NDARXF497LYF NDARYA030ZG7 NDARYE850ZVD NDARYF272EDC NDARYK164AEJ NDARZG081LYG NDARZG236AUT NDARZM739MH6 NDARZT940RZG NDARZT957CWG"
for file in ${SUBJECTLIST}; do \
qunexContainer hcp1 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-HCP.txt" \
--subjid=${file} \
--cores="4" \
--overwrite="yes" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=7-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic"
done

# update batch file to ignore duplicate T1w
sed -i 's/T1w             :T1w acq-VNav/                :T1w acq-VNav/g' /gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-HCP.txt

## hcp2 ##
#run DM 7/6/2020
qunexContainer hcp2 \
 --subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
 --sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-HCP.txt" \
 --cores="4" \
 --hcp_t2="t2" \
 --overwrite="no" \
 --container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
 --scheduler="SLURM,time=4-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic"
 
#bad acquisition, do not use NDARBZ913ZB9 NDAREG930XPP NDARKM476GFK NDARKZ479FC8 NDARRK038CBD NDARVL498YX5
#ready for hcp3 n=38

## hcp3 ##
#if only specific sessions - example: --subjid="CC110098 CC221886 CC320297" \
qunexContainer hcp3 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-HCP.txt" \
--cores=4 \
--hcp_t2="t2" \
--overwrite="no" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=01-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic"

## hcp4 ##
qunexContainer hcp4 \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-HCP.txt" \
--subjectsfolder="/gpfs/project/fas/n3/Studies/ThalDev/subjects" \
--TR="0.8" \
--bolds="Rest, Peer, movieDM, movieTP" \
--overwrite="no" \
--cores='4' \
--threads="3" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=7-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic"

## hcp5 ##

## hcpd ##

## mapHCPData ##

## createBOLDBrainMasks ##

## computeBOLDStats ##

## createStatsReport ##

## extractNuisanceSignal ##






############################################################################################
## - 2. ###################### CBIC_New_T1w-HCP_T2w-NONE preprocessing ############################
############################################################################################

#batchfile: subjects.CBIC_New_T1w-HCP_T2w-NONE.txt

## createBatch ##
#n=181sessions
#to integrate NDARAC350XUM when fixed
declare -a SESID=("NDARAC857HDB NDARAD615WLJ NDARAG115LZP NDARBG188RA5 NDARBL214YLX NDARBU098PJT NDARCF052AE0 NDARCG808HDJ NDARCH889NUF NDARCM811CV1 NDARCU736GZ1 NDARCU744XWL NDARCV606ZZ5 NDARCW497XW2 NDARDE597GKQ NDARDG929LYJ NDARDH086ZKK NDARDN393BJH NDARDR439HY2 NDARDY776AKH NDAREE675XRY NDAREF888EVV NDAREH852JE0 NDAREK395BM3 NDAREL410HHK NDAREN242VPZ NDAREN417DJE NDAREV342ABE NDAREX336AC1 NDAREY897LB1 NDARFB506UJ3 NDARFB969EMV NDARFE372VHL NDARFF061VUK NDARFG713PLR NDARFM229HHA NDARFM619GTV NDARFM749LF3 NDARFV061AR5 NDARGB000CW8 NDARGF445UFB NDARGK786DWR NDARGR125APK NDARGY542TJ5 NDARHC825ZFZ NDARHE899FJV NDARHG188YE9 NDARHK506HLW NDARHU896TWV NDARHU910KZC NDARHW270BD0 NDARHW933UVJ NDARHX628PC6 NDARHX934KJ5 NDARHY099CUL NDARJA262HTY NDARJA788CH7 NDARJC010YYF NDARJE678MWN NDARJH065GKG NDARJL656RDA NDARJL861WTP NDARJP948FJV NDARJU307YHB NDARJX258XF0 NDARJY676CWZ NDARJZ888UX6 NDARKA958FAH NDARKB290YNY NDARKF442GZ5 NDARKL327YDQ NDARKM096BGW NDARKN633WZA NDARKN988BRP NDARKW010CT2 NDARKW383ZPF NDARKX528PH3 NDARKZ312XR1 NDARLB162XP2 NDARLF446MT5 NDARLK551KXD NDARLM196YRG NDARLM313FVX NDARLY125HMB NDARLZ701LJ3 NDARMA449YB6 NDARMB216LA6 NDARMK825WAX NDARMT661WCR NDARMV319CAT NDARMV605LGH NDARMV822KWR NDARNB905CFU NDARNE729PN2 NDARNF359TBZ NDARNF873FCV NDARNH147WGN NDARNJ633HHX NDARNK005BRN NDARNL587LVL NDARNL926VB7 NDARNT151UN1 NDARPF319WV2 NDARPF937BDQ NDARPH152GU1 NDARPH176EWC NDARPH513LP3 NDARPL215MTH NDARRB403PDE NDARRC295CHW NDARRC982ZE9 NDARRE445RHR NDARRK545WNM NDARRL315KV3 NDARRL426AD5 NDARRR813CY6 NDARRU290EZV NDARRU979UBW NDARRW680PHD NDARRY006EMB NDARRY768ZH3 NDARTC794GZ5 NDARTE773XJ5 NDARTF781TM8 NDARTG679NKQ NDARTH930FNK NDARTJ433TB5 NDARTK357VHL NDARUE398GGV NDARUP067TM8 NDARUR009YJM NDARUT233WU9 NDARUT891XYJ NDARUU615WPR NDARUV041YCY NDARUX408KJ1 NDARUX534HZQ NDARUX885LMW NDARUY339ZLN NDARVB012UWL NDARVB151GXF NDARVC350WVG NDARVC518NWG NDARVC673HFA NDARVC711ZK0 NDARVG132NF6 NDARVL190JA8 NDARVL964HH1 NDARVN715MJ9 NDARVN883AU2 NDARVU320XJZ NDARVY938WR6 NDARWC174VE6 NDARWE898TG8 NDARWR247CE1 NDARWR888KKT NDARWV984WMM NDARWW480TU2 NDARWZ346RV4 NDARXB692PXC NDARXJ452HAJ NDARXK009VGV NDARXK986EK6 NDARXR123PFR NDARXV034WE0 NDARXV294YRJ NDARXY532ZTT NDARYE221LZB NDARYE379GGT NDARYG988PUQ NDARYH697TPA NDARYM277DEA NDARYM586MYN NDARYM994YF0 NDARYN174NPH NDARYT332LMM NDARYU120NDA NDARZE963MEU NDARZF170TZ0 NDARZW873DN3 NDARZY101JNB")
arraylength=${#SESID[@]}
for ((i=0; i<${arraylength}; i++));do
qunexContainer createBatch \
--sfile="subject_hcp.txt" \
--tfile="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-NONE.txt" \
--overwrite="append" \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--subjects=${SESID[$i]} \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=0-00:20:00,ntasks=1,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic_bigmem"
done
mv slurm* /gpfs/project/fas/n3/Studies/HBN/processing/logs/createBatchSlurm

# update batch file to ignore duplicate T1w
sed -i 's/T1w             :T1w acq-VNav/                :T1w acq-VNav/g' /gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-NONE.txt

# rm unprocessed/T1w folder and hcp/[subjid]/T1w folder for each subject
# we removed the unprocessed T1w folder because we want to get rid of the duplicate T1w files here.
# we want to delete the hcp/[subjid]/T1w folder because it causes an error when rerunning HCP1 with overwrite=on if we keep this folder
# run DM 3-27-20
# re-run DM 4-24-20
# change subject list
# removed subject "NDARAC350XUM"
declare -a SESID=("NDARAC857HDB" "NDARAD615WLJ" "NDARAG115LZP" "NDARBG188RA5" "NDARBL214YLX" "NDARBU098PJT" "NDARCF052AE0" "NDARCG808HDJ" "NDARCH889NUF" "NDARCM811CV1" "NDARCU736GZ1" "NDARCU744XWL" "NDARCV606ZZ5" "NDARCW497XW2" "NDARDE597GKQ" "NDARDG929LYJ" "NDARDH086ZKK" "NDARDN393BJH" "NDARDR439HY2" "NDARDY776AKH" "NDAREE675XRY" "NDAREF888EVV" "NDAREH852JE0" "NDAREK395BM3" "NDAREL410HHK" "NDAREN242VPZ" "NDAREN417DJE" "NDAREV342ABE" "NDAREX336AC1" "NDAREY897LB1" "NDARFB506UJ3" "NDARFB969EMV" "NDARFE372VHL" "NDARFF061VUK" "NDARFG713PLR" "NDARFM229HHA" "NDARFM619GTV" "NDARFM749LF3" "NDARFV061AR5" "NDARGB000CW8" "NDARGF445UFB" "NDARGK786DWR" "NDARGR125APK" "NDARGY542TJ5" "NDARHC825ZFZ" "NDARHE899FJV" "NDARHG188YE9" "NDARHK506HLW" "NDARHU896TWV" "NDARHU910KZC" "NDARHW270BD0" "NDARHW933UVJ" "NDARHX628PC6" "NDARHX934KJ5" "NDARHY099CUL" "NDARJA262HTY" "NDARJA788CH7" "NDARJC010YYF" "NDARJE678MWN" "NDARJH065GKG" "NDARJL656RDA" "NDARJL861WTP" "NDARJP948FJV" "NDARJU307YHB" "NDARJX258XF0" "NDARJY676CWZ" "NDARJZ888UX6" "NDARKA958FAH" "NDARKB290YNY" "NDARKF442GZ5" "NDARKL327YDQ" "NDARKM096BGW" "NDARKN633WZA" "NDARKN988BRP" "NDARKW010CT2" "NDARKW383ZPF" "NDARKX528PH3" "NDARKZ312XR1" "NDARLB162XP2" "NDARLF446MT5" "NDARLK551KXD" "NDARLM196YRG" "NDARLM313FVX" "NDARLY125HMB" "NDARLZ701LJ3" "NDARMA449YB6" "NDARMB216LA6" "NDARMK825WAX" "NDARMT661WCR" "NDARMV319CAT" "NDARMV605LGH" "NDARMV822KWR" "NDARNB905CFU" "NDARNE729PN2" "NDARNF359TBZ" "NDARNF873FCV" "NDARNH147WGN" "NDARNJ633HHX" "NDARNK005BRN" "NDARNL587LVL" "NDARNL926VB7" "NDARNT151UN1" "NDARPF319WV2" "NDARPF937BDQ" "NDARPH152GU1" "NDARPH176EWC" "NDARPH513LP3" "NDARPL215MTH" "NDARRB403PDE" "NDARRC295CHW" "NDARRC982ZE9" "NDARRE445RHR" "NDARRK545WNM" "NDARRL315KV3" "NDARRL426AD5" "NDARRR813CY6" "NDARRU290EZV" "NDARRU979UBW" "NDARRW680PHD" "NDARRY006EMB" "NDARRY768ZH3" "NDARTC794GZ5" "NDARTE773XJ5" "NDARTF781TM8" "NDARTG679NKQ" "NDARTH930FNK" "NDARTJ433TB5" "NDARTK357VHL" "NDARUE398GGV" "NDARUP067TM8" "NDARUR009YJM" "NDARUT233WU9" "NDARUT891XYJ" "NDARUU615WPR" "NDARUV041YCY" "NDARUX408KJ1" "NDARUX534HZQ" "NDARUX885LMW" "NDARUY339ZLN" "NDARVB012UWL" "NDARVB151GXF" "NDARVC350WVG" "NDARVC518NWG" "NDARVC673HFA" "NDARVC711ZK0" "NDARVG132NF6" "NDARVL190JA8" "NDARVL964HH1" "NDARVN715MJ9" "NDARVN883AU2" "NDARVU320XJZ" "NDARVY938WR6" "NDARWC174VE6" "NDARWE898TG8" "NDARWR247CE1" "NDARWR888KKT" "NDARWV984WMM" "NDARWW480TU2" "NDARWZ346RV4" "NDARXB692PXC" "NDARXJ452HAJ" "NDARXK009VGV" "NDARXK986EK6" "NDARXR123PFR" "NDARXV034WE0" "NDARXV294YRJ" "NDARXY532ZTT" "NDARYE221LZB" "NDARYE379GGT" "NDARYG988PUQ" "NDARYH697TPA" "NDARYM277DEA" "NDARYM586MYN" "NDARYM994YF0" "NDARYN174NPH" "NDARYT332LMM" "NDARYU120NDA" "NDARZE963MEU" "NDARZF170TZ0" "NDARZW873DN3" "NDARZY101JNB")
declare -a SESID=("NDARAC857HDB" "NDARAD615WLJ" "NDARAG115LZP" "NDARBG188RA5")
arraylength=${#SESID[@]}
for ((i=0; i<${arraylength}; i++));do
rm -r /gpfs/project/fas/n3/Studies/HBN/subjects/${SESID[$i]}/hcp/${SESID[$i]}/unprocessed/T1w
rm -r /gpfs/project/fas/n3/Studies/HBN/subjects/${SESID[$i]}/hcp/${SESID[$i]}/T1w
done

# remove duplicate T1w from each subject's subject_hcp.txt file
# run DM 4-02-20
# change subject list and change the sed command to match this batch file
#removed subject "NDARAC350XUM"
declare -a SESID=( "NDARAC857HDB" "NDARAD615WLJ" "NDARAG115LZP" "NDARBG188RA5" "NDARBL214YLX" "NDARBU098PJT" "NDARCF052AE0" "NDARCG808HDJ" "NDARCH889NUF" "NDARCM811CV1" "NDARCU736GZ1" "NDARCU744XWL" "NDARCV606ZZ5" "NDARCW497XW2" "NDARDE597GKQ" "NDARDG929LYJ" "NDARDH086ZKK" "NDARDN393BJH" "NDARDR439HY2" "NDARDY776AKH" "NDAREE675XRY" "NDAREF888EVV" "NDAREH852JE0" "NDAREK395BM3" "NDAREL410HHK" "NDAREN242VPZ" "NDAREN417DJE" "NDAREV342ABE" "NDAREX336AC1" "NDAREY897LB1" "NDARFB506UJ3" "NDARFB969EMV" "NDARFE372VHL" "NDARFF061VUK" "NDARFG713PLR" "NDARFM229HHA" "NDARFM619GTV" "NDARFM749LF3" "NDARFV061AR5" "NDARGB000CW8" "NDARGF445UFB" "NDARGK786DWR" "NDARGR125APK" "NDARGY542TJ5" "NDARHC825ZFZ" "NDARHE899FJV" "NDARHG188YE9" "NDARHK506HLW" "NDARHU896TWV" "NDARHU910KZC" "NDARHW270BD0" "NDARHW933UVJ" "NDARHX628PC6" "NDARHX934KJ5" "NDARHY099CUL" "NDARJA262HTY" "NDARJA788CH7" "NDARJC010YYF" "NDARJE678MWN" "NDARJH065GKG" "NDARJL656RDA" "NDARJL861WTP" "NDARJP948FJV" "NDARJU307YHB" "NDARJX258XF0" "NDARJY676CWZ" "NDARJZ888UX6" "NDARKA958FAH" "NDARKB290YNY" "NDARKF442GZ5" "NDARKL327YDQ" "NDARKM096BGW" "NDARKN633WZA" "NDARKN988BRP" "NDARKW010CT2" "NDARKW383ZPF" "NDARKX528PH3" "NDARKZ312XR1" "NDARLB162XP2" "NDARLF446MT5" "NDARLK551KXD" "NDARLM196YRG" "NDARLM313FVX" "NDARLY125HMB" "NDARLZ701LJ3" "NDARMA449YB6" "NDARMB216LA6" "NDARMK825WAX" "NDARMT661WCR" "NDARMV319CAT" "NDARMV605LGH" "NDARMV822KWR" "NDARNB905CFU" "NDARNE729PN2" "NDARNF359TBZ" "NDARNF873FCV" "NDARNH147WGN" "NDARNJ633HHX" "NDARNK005BRN" "NDARNL587LVL" "NDARNL926VB7" "NDARNT151UN1" "NDARPF319WV2" "NDARPF937BDQ" "NDARPH152GU1" "NDARPH176EWC" "NDARPH513LP3" "NDARPL215MTH" "NDARRB403PDE" "NDARRC295CHW" "NDARRC982ZE9" "NDARRE445RHR" "NDARRK545WNM" "NDARRL315KV3" "NDARRL426AD5" "NDARRR813CY6" "NDARRU290EZV" "NDARRU979UBW" "NDARRW680PHD" "NDARRY006EMB" "NDARRY768ZH3" "NDARTC794GZ5" "NDARTE773XJ5" "NDARTF781TM8" "NDARTG679NKQ" "NDARTH930FNK" "NDARTJ433TB5" "NDARTK357VHL" "NDARUE398GGV" "NDARUP067TM8" "NDARUR009YJM" "NDARUT233WU9" "NDARUT891XYJ" "NDARUU615WPR" "NDARUV041YCY" "NDARUX408KJ1" "NDARUX534HZQ" "NDARUX885LMW" "NDARUY339ZLN" "NDARVB012UWL" "NDARVB151GXF" "NDARVC350WVG" "NDARVC518NWG" "NDARVC673HFA" "NDARVC711ZK0" "NDARVG132NF6" "NDARVL190JA8" "NDARVL964HH1" "NDARVN715MJ9" "NDARVN883AU2" "NDARVU320XJZ" "NDARVY938WR6" "NDARWC174VE6" "NDARWE898TG8" "NDARWR247CE1" "NDARWR888KKT" "NDARWV984WMM" "NDARWW480TU2" "NDARWZ346RV4" "NDARXB692PXC" "NDARXJ452HAJ" "NDARXK009VGV" "NDARXK986EK6" "NDARXR123PFR" "NDARXV034WE0" "NDARXV294YRJ" "NDARXY532ZTT" "NDARYE221LZB" "NDARYE379GGT" "NDARYG988PUQ" "NDARYH697TPA" "NDARYM277DEA" "NDARYM586MYN" "NDARYM994YF0" "NDARYN174NPH" "NDARYT332LMM" "NDARYU120NDA" "NDARZE963MEU" "NDARZF170TZ0" "NDARZW873DN3" "NDARZY101JNB")
arraylength=${#SESID[@]}
for ((i=0; i<${arraylength}; i++));do
sed -i 's/T1w             :T1w acq-VNav/                :T1w acq-VNav/g' /gpfs/project/fas/n3/Studies/HBN/subjects/${SESID[$i]}/subject_hcp.txt
done

## - rerun setupHCP for deleted T1w folders
# run DM 4-08-20
# re-run DM 4-24-20
# change subject list
#removed subject "NDARAC350XUM"
declare -a SESID=("NDARAC857HDB" "NDARAD615WLJ" "NDARAG115LZP" "NDARBG188RA5" "NDARBL214YLX" "NDARBU098PJT" "NDARCF052AE0" "NDARCG808HDJ" "NDARCH889NUF" "NDARCM811CV1" "NDARCU736GZ1" "NDARCU744XWL" "NDARCV606ZZ5" "NDARCW497XW2" "NDARDE597GKQ" "NDARDG929LYJ" "NDARDH086ZKK" "NDARDN393BJH" "NDARDR439HY2" "NDARDY776AKH" "NDAREE675XRY" "NDAREF888EVV" "NDAREH852JE0" "NDAREK395BM3" "NDAREL410HHK" "NDAREN242VPZ" "NDAREN417DJE" "NDAREV342ABE" "NDAREX336AC1" "NDAREY897LB1" "NDARFB506UJ3" "NDARFB969EMV" "NDARFE372VHL" "NDARFF061VUK" "NDARFG713PLR" "NDARFM229HHA" "NDARFM619GTV" "NDARFM749LF3" "NDARFV061AR5" "NDARGB000CW8" "NDARGF445UFB" "NDARGK786DWR" "NDARGR125APK" "NDARGY542TJ5" "NDARHC825ZFZ" "NDARHE899FJV" "NDARHG188YE9" "NDARHK506HLW" "NDARHU896TWV" "NDARHU910KZC" "NDARHW270BD0" "NDARHW933UVJ" "NDARHX628PC6" "NDARHX934KJ5" "NDARHY099CUL" "NDARJA262HTY" "NDARJA788CH7" "NDARJC010YYF" "NDARJE678MWN" "NDARJH065GKG" "NDARJL656RDA" "NDARJL861WTP" "NDARJP948FJV" "NDARJU307YHB" "NDARJX258XF0" "NDARJY676CWZ" "NDARJZ888UX6" "NDARKA958FAH" "NDARKB290YNY" "NDARKF442GZ5" "NDARKL327YDQ" "NDARKM096BGW" "NDARKN633WZA" "NDARKN988BRP" "NDARKW010CT2" "NDARKW383ZPF" "NDARKX528PH3" "NDARKZ312XR1" "NDARLB162XP2" "NDARLF446MT5" "NDARLK551KXD" "NDARLM196YRG" "NDARLM313FVX" "NDARLY125HMB" "NDARLZ701LJ3" "NDARMA449YB6" "NDARMB216LA6" "NDARMK825WAX" "NDARMT661WCR" "NDARMV319CAT" "NDARMV605LGH" "NDARMV822KWR" "NDARNB905CFU" "NDARNE729PN2" "NDARNF359TBZ" "NDARNF873FCV" "NDARNH147WGN" "NDARNJ633HHX" "NDARNK005BRN" "NDARNL587LVL" "NDARNL926VB7" "NDARNT151UN1" "NDARPF319WV2" "NDARPF937BDQ" "NDARPH152GU1" "NDARPH176EWC" "NDARPH513LP3" "NDARPL215MTH" "NDARRB403PDE" "NDARRC295CHW" "NDARRC982ZE9" "NDARRE445RHR" "NDARRK545WNM" "NDARRL315KV3" "NDARRL426AD5" "NDARRR813CY6" "NDARRU290EZV" "NDARRU979UBW" "NDARRW680PHD" "NDARRY006EMB" "NDARRY768ZH3" "NDARTC794GZ5" "NDARTE773XJ5" "NDARTF781TM8" "NDARTG679NKQ" "NDARTH930FNK" "NDARTJ433TB5" "NDARTK357VHL" "NDARUE398GGV" "NDARUP067TM8" "NDARUR009YJM" "NDARUT233WU9" "NDARUT891XYJ" "NDARUU615WPR" "NDARUV041YCY" "NDARUX408KJ1" "NDARUX534HZQ" "NDARUX885LMW" "NDARUY339ZLN" "NDARVB012UWL" "NDARVB151GXF" "NDARVC350WVG" "NDARVC518NWG" "NDARVC673HFA" "NDARVC711ZK0" "NDARVG132NF6" "NDARVL190JA8" "NDARVL964HH1" "NDARVN715MJ9" "NDARVN883AU2" "NDARVU320XJZ" "NDARVY938WR6" "NDARWC174VE6" "NDARWE898TG8" "NDARWR247CE1" "NDARWR888KKT" "NDARWV984WMM" "NDARWW480TU2" "NDARWZ346RV4" "NDARXB692PXC" "NDARXJ452HAJ" "NDARXK009VGV" "NDARXK986EK6" "NDARXR123PFR" "NDARXV034WE0" "NDARXV294YRJ" "NDARXY532ZTT" "NDARYE221LZB" "NDARYE379GGT" "NDARYG988PUQ" "NDARYH697TPA" "NDARYM277DEA" "NDARYM586MYN" "NDARYM994YF0" "NDARYN174NPH" "NDARYT332LMM" "NDARYU120NDA" "NDARZE963MEU" "NDARZF170TZ0" "NDARZW873DN3" "NDARZY101JNB")
#20200601 - n=1 slurm-57026944.out
declare -a SESID=("NDAREN242VPZ")
# rerunning n=9  failed session
declare -a SESID=("NDARCF052AE0" "NDARCG808HDJ" "NDARCH889NUF" "NDARCU744XWL" "NDARCV606ZZ5" "NDARCW497XW2" "NDARDG929LYJ" "NDARDR439HY2" "NDAREE675XRY")

arraylength=${#SESID[@]}
for ((i=0; i<${arraylength}; i++));do
qunexContainer setupHCP \
--sfolder="/gpfs/project/fas/n3/Studies/HBN/subjects/${SESID[$i]}" \
--sfile="subject_hcp.txt" \
--scheduler="SLURM,time=1-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif"; \
done

##### Minimal Preprocessing Pipeline
## hcp1 ##
# removed subject "NDARAC350XUM"
# run DM 4-08-20
# run DM 4-21-20
# run DM 4-24-20
declare -a SESID=("NDARAC857HDB" "NDARAD615WLJ" "NDARAG115LZP" "NDARBG188RA5" "NDARBL214YLX" "NDARBU098PJT" "NDARCF052AE0" "NDARCG808HDJ" "NDARCH889NUF" "NDARCM811CV1" "NDARCU736GZ1" "NDARCU744XWL" "NDARCV606ZZ5" "NDARCW497XW2" "NDARDE597GKQ" "NDARDG929LYJ" "NDARDH086ZKK" "NDARDN393BJH" "NDARDR439HY2" "NDARDY776AKH" "NDAREE675XRY" "NDAREF888EVV" "NDAREH852JE0" "NDAREK395BM3" "NDAREL410HHK" "NDAREN242VPZ" "NDAREN417DJE" "NDAREV342ABE" "NDAREX336AC1" "NDAREY897LB1" "NDARFB506UJ3" "NDARFB969EMV" "NDARFE372VHL" "NDARFF061VUK" "NDARFG713PLR" "NDARFM229HHA" "NDARFM619GTV" "NDARFM749LF3" "NDARFV061AR5" "NDARGB000CW8" "NDARGF445UFB" "NDARGK786DWR" "NDARGR125APK" "NDARGY542TJ5" "NDARHC825ZFZ" "NDARHE899FJV" "NDARHG188YE9" "NDARHK506HLW" "NDARHU896TWV" "NDARHU910KZC" "NDARHW270BD0" "NDARHW933UVJ" "NDARHX628PC6" "NDARHX934KJ5" "NDARHY099CUL" "NDARJA262HTY" "NDARJA788CH7" "NDARJC010YYF" "NDARJE678MWN" "NDARJH065GKG" "NDARJL656RDA" "NDARJL861WTP" "NDARJP948FJV" "NDARJU307YHB" "NDARJX258XF0" "NDARJY676CWZ" "NDARJZ888UX6" "NDARKA958FAH" "NDARKB290YNY" "NDARKF442GZ5" "NDARKL327YDQ" "NDARKM096BGW" "NDARKN633WZA" "NDARKN988BRP" "NDARKW010CT2" "NDARKW383ZPF" "NDARKX528PH3" "NDARKZ312XR1" "NDARLB162XP2" "NDARLF446MT5" "NDARLK551KXD" "NDARLM196YRG" "NDARLM313FVX" "NDARLY125HMB" "NDARLZ701LJ3" "NDARMA449YB6" "NDARMB216LA6" "NDARMK825WAX" "NDARMT661WCR" "NDARMV319CAT" "NDARMV605LGH" "NDARMV822KWR" "NDARNB905CFU" "NDARNE729PN2" "NDARNF359TBZ" "NDARNF873FCV" "NDARNH147WGN" "NDARNJ633HHX" "NDARNK005BRN" "NDARNL587LVL" "NDARNL926VB7" "NDARNT151UN1" "NDARPF319WV2" "NDARPF937BDQ" "NDARPH152GU1" "NDARPH176EWC" "NDARPH513LP3" "NDARPL215MTH" "NDARRB403PDE" "NDARRC295CHW" "NDARRC982ZE9" "NDARRE445RHR" "NDARRK545WNM" "NDARRL315KV3" "NDARRL426AD5" "NDARRR813CY6" "NDARRU290EZV" "NDARRU979UBW" "NDARRW680PHD" "NDARRY006EMB" "NDARRY768ZH3" "NDARTC794GZ5" "NDARTE773XJ5" "NDARTF781TM8" "NDARTG679NKQ" "NDARTH930FNK" "NDARTJ433TB5" "NDARTK357VHL" "NDARUE398GGV" "NDARUP067TM8" "NDARUR009YJM" "NDARUT233WU9" "NDARUT891XYJ" "NDARUU615WPR" "NDARUV041YCY" "NDARUX408KJ1" "NDARUX534HZQ" "NDARUX885LMW" "NDARUY339ZLN" "NDARVB012UWL" "NDARVB151GXF" "NDARVC350WVG" "NDARVC518NWG" "NDARVC673HFA" "NDARVC711ZK0" "NDARVG132NF6" "NDARVL190JA8" "NDARVL964HH1" "NDARVN715MJ9" "NDARVN883AU2" "NDARVU320XJZ" "NDARVY938WR6" "NDARWC174VE6" "NDARWE898TG8" "NDARWR247CE1" "NDARWR888KKT" "NDARWV984WMM" "NDARWW480TU2" "NDARWZ346RV4" "NDARXB692PXC" "NDARXJ452HAJ" "NDARXK009VGV" "NDARXK986EK6" "NDARXR123PFR" "NDARXV034WE0" "NDARXV294YRJ" "NDARXY532ZTT" "NDARYE221LZB" "NDARYE379GGT" "NDARYG988PUQ" "NDARYH697TPA" "NDARYM277DEA" "NDARYM586MYN" "NDARYM994YF0" "NDARYN174NPH" "NDARYT332LMM" "NDARYU120NDA" "NDARZE963MEU" "NDARZF170TZ0" "NDARZW873DN3" "NDARZY101JNB")
# rerun n=62 sessions 6-1-20
declare -a SESID=("NDARCF052AE0" "NDARCG808HDJ" "NDARCH889NUF" "NDARCU744XWL" "NDARCV606ZZ5" "NDARCW497XW2" "NDARDG929LYJ" "NDARDR439HY2" "NDAREE675XRY" "NDAREN242VPZ" "NDARUP067TM8" "NDARUR009YJM" "NDARUT233WU9" "NDARUT891XYJ" "NDARUU615WPR" "NDARUV041YCY" "NDARUX408KJ1" "NDARUX534HZQ" "NDARUX885LMW" "NDARUY339ZLN" "NDARVB012UWL" "NDARVB151GXF" "NDARVC350WVG" "NDARVC518NWG" "NDARVC673HFA" "NDARVC711ZK0" "NDARVG132NF6" "NDARVL190JA8" "NDARVL964HH1" "NDARVN715MJ9" "NDARVN883AU2" "NDARVU320XJZ" "NDARVY938WR6" "NDARWC174VE6" "NDARWE898TG8" "NDARWR247CE1" "NDARWR888KKT" "NDARWV984WMM" "NDARWW480TU2" "NDARWZ346RV4" "NDARXB692PXC" "NDARXJ452HAJ" "NDARXK009VGV" "NDARXK986EK6" "NDARXR123PFR" "NDARXV034WE0" "NDARXV294YRJ" "NDARXY532ZTT" "NDARYE221LZB" "NDARYE379GGT" "NDARYG988PUQ" "NDARYH697TPA" "NDARYM277DEA" "NDARYM586MYN" "NDARYM994YF0" "NDARYN174NPH" "NDARYT332LMM" "NDARYU120NDA" "NDARZE963MEU" "NDARZF170TZ0" "NDARZW873DN3" "NDARZY101JNB")
# rerun n=15 missing done_hcp1
declare -a SESID=("NDARUP067TM8" "NDARUT233WU9" "NDARUT891XYJ" "NDARUX885LMW" "NDARVB151GXF" "NDARVC673HFA" "NDARVC711ZK0" "NDARVU320XJZ" "NDARWV984WMM" "NDARXK986EK6" "NDARXV294YRJ" "NDARXY532ZTT" "NDARYH697TPA" "NDARYT332LMM" "NDARZF170TZ0")
arraylength=${#SESID[@]}
for ((i=0; i<${arraylength}; i++));do
qunexContainer hcp1 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-NONE.txt" \
--subjid=${SESID[$i]} \
--cores="4" \
--hcp_t2="NONE" \
--overwrite="yes" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=7-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic"
done

## hcp2 ##
#run DM 6/08/2020 n=181 sessions
qunexContainer hcp2 \
 --subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
 --sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-NONE.txt" \
 --cores="4" \
 --hcp_t2="t2" \
 --overwrite="no" \
 --container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
 --scheduler="SLURM,time=4-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic"

#run DM 6/18/20 n=78 sessions
declare -a SESID=("NDARCM811CV1" "NDARCV606ZZ5" "NDARCW497XW2" "NDARDH086ZKK" "NDARDN393BJH" "NDAREN417DJE" "NDAREV342ABE" "NDAREX336AC1" "NDARFE372VHL" "NDARFF061VUK" "NDARFG713PLR" "NDARFM229HHA" "NDARFM749LF3" "NDARGB000CW8" "NDARGR125APK" "NDARGY542TJ5" "NDARHK506HLW" "NDARHU896TWV" "NDARHX628PC6" "NDARHY099CUL" "NDARJA788CH7" "NDARJE678MWN" "NDARJL656RDA" "NDARJU307YHB" "NDARKA958FAH" "NDARKB290YNY" "NDARKL327YDQ" "NDARKN988BRP" "NDARKX528PH3" "NDARLB162XP2" "NDARLK551KXD" "NDARLM196YRG" "NDARLY125HMB" "NDARLZ701LJ3" "NDARMA449YB6" "NDARMB216LA6" "NDARMT661WCR" "NDARMV319CAT" "NDARNE729PN2" "NDARNH147WGN" "NDARNJ633HHX" "NDARNL926VB7" "NDARPH152GU1" "NDARPH176EWC" "NDARRB403PDE" "NDARRK545WNM" "NDARRW680PHD" "NDARRY006EMB" "NDARTC794GZ5" "NDARTG679NKQ" "NDARTJ433TB5" "NDARTK357VHL" "NDARUP067TM8" "NDARUR009YJM" "NDARUT891XYJ" "NDARUY339ZLN" "NDARVB012UWL" "NDARVB151GXF" "NDARVC518NWG" "NDARVC673HFA" "NDARVG132NF6" "NDARVL964HH1" "NDARVN715MJ9" "NDARVN883AU2" "NDARVU320XJZ" "NDARVY938WR6" "NDARWC174VE6" "NDARWW480TU2" "NDARWZ346RV4" "NDARXB692PXC" "NDARXJ452HAJ" "NDARXK986EK6" "NDARXR123PFR" "NDARXV294YRJ" "NDARYE379GGT" "NDARYH697TPA" "NDARYM586MYN" "NDARZF170TZ0")
arraylength=${#SESID[@]}
for ((i=0; i<${arraylength}; i++));do
qunexContainer hcp2 \
 --subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
 --sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-NONE.txt" \
 --subjid=${SESID[$i]} \
 --cores="4" \
 --hcp_t2="t2" \
 --overwrite="no" \
 --container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
 --scheduler="SLURM,time=4-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic"
 done
 
#run DM 6/28/20 n=3 sessions
declare -a SESID=("NDARXR123PFR" "NDARXV294YRJ" "NDARYE379GGT")
arraylength=${#SESID[@]}
for ((i=0; i<${arraylength}; i++));do
qunexContainer hcp2 \
 --subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
 --sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-NONE.txt" \
 --subjid=${SESID[$i]} \
 --cores="4" \
 --hcp_t2="t2" \
 --overwrite="no" \
 --container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
 --scheduler="SLURM,time=4-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic"
 done
 
 #run DM 08-07-20 n=2 sessions more memory
 qunexContainer hcp2 \
 --subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
 --sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-NONE.txt" \
 --subjid="NDARHX934KJ5 NDARXK009VGV" \
 --cores="2" \
 --hcp_t2="NONE" \
 --overwrite="yes" \
 --container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
 --scheduler="SLURM,time=7-00:00:00,ntasks=2,cpus-per-task=1,mem-per-cpu=30000,partition=pi_anticevic"
 
#no done_hcp2 logs NDARBL214YLX NDARCU744XWL NDARDE597GKQ NDARHX934KJ5 NDARJE678MWN NDARKM096BGW NDARMV822KWR(error) NDARNF359TBZ NDARNT151UN1 NDARPF319WV2 NDARPH152GU1 NDARTH930FNK NDARUE398GGV NDARUX534HZQ NDARUY339ZLN NDARVN883AU2(error) NDARWZ346RV4 NDARXK009VGV
#unusable distortion NDARBL214YLX NDARKM096BGW NDARCU744XWL NDARDE597GKQ NDARJE678MWN NDARMV822KWR NDARNF359TBZ NDARNT151UN1 NDARPF319WV2 NDARPH152GU1 NDARTH930FNK NDARUE398GGV NDARUX534HZQ NDARUY339ZLN NDARVN883AU2 NDARWZ346RV4
#usable, run again NDARHX934KJ5 NDARXK009VGV

## hcp3 ##

## hcp4 ##

## hcp5 ##

## mapHCPData ##

## createBOLDBrainMasks ##

## computeBOLDStats ##

## createStatsReport ##

## extractNuisanceSignal ##



############################################################################################
## 3. ###################### CBIC_New_T1w-HCP_T2w-VNav preprocessing ###########################
############################################################################################

#batchfile: subjects.CBIC_New_T1w-HCP_T2w-VNav.txt

## createBatch ##
declare -a SESID=("NDARAB348EWR NDARAB458VK9 NDARAB708LM5 NDARAE877NER NDARAH793FBF NDARAT680GJA NDARAU530GLJ NDARAX277ATU NDARBF851NH6 NDARBH992ARB NDARBK106KRH NDARBK638HLZ NDARBN365EV3 NDARBN620TT7 NDARBZ925PRF NDARCD296XU9 NDARCG159AAP NDARCG785NND NDARCH628LKW NDARCP292KPA NDARCR582GKJ NDARCR743RHQ NDARDA656RBN NDARDB720VEA NDARDC814WW2 NDARDD073JKZ NDARDD128NWL NDARDD854GF8 NDARDE877RFH NDARDF374LGN NDARDL305BT8 NDARDN089RX5 NDARDR595ZE5 NDARDV245WJG NDARDX196MZP NDARDY741VEB NDARDZ425JVB NDARED945TNQ NDAREE015WGU NDAREJ327AH7 NDARFA089ZZG NDARFB322DRA NDARFD453NPR NDARFG118DW3 NDARFG851ZNZ NDARFG943GVZ NDARFG953RRK NDARFJ000DCY NDARFT787HJW NDARFU395UBW NDARFU786BN4 NDARFU916UZY NDARFX083RCV NDARGB528CP8 NDARGC148JBJ NDARGH842VFY NDARGL085RTW NDARGM196JMM NDARGM439FZD NDARGP984YLN NDARGR893PUA NDARGU844NZ3 NDARGZ207NNA NDARGZ553TMQ NDARHC814ZZL NDARHD931FNA NDARHG594GKH NDARHH819LH3 NDARHL822EJK NDARHW575ZJ5 NDARHW968ABB NDARHX963YU1 NDARHY676RYH NDARJA737FAJ NDARJC399UW7 NDARJF517HC8 NDARJH492TVW NDARJR473HXT NDARJX458DVE NDARKB421MTA NDARKE456BVQ NDARKF704MKL NDARKG697CEW NDARKM250ET5 NDARKM568HJK NDARKN477EBH NDARKU649DB7 NDARKV353MTD NDARKV807EMJ NDARKX371CJY NDARLA048NYE NDARLT314TWP NDARLU939YX4 NDARLV155RW0 NDARLW774VY1 NDARLY114PDC NDARMC473UHD NDARME689TAF NDARME724FJE NDARME789TD2 NDARMG451PJA NDARMH364EMW NDARMT461DNB NDARMV981GZ7 NDARMY873XG5 NDARMZ366UY8 NDARMZ477MNH NDARNB427ARE NDARNN624AMU NDARNU770PM5 NDARNY419GR2 NDARNZ141GNH NDARPD855ARC NDARPE752VYE NDARPF459CME NDARPF682GDC NDARPH474YF3 NDARPL194XDX NDARPN886HH9 NDARPX838GCD NDARPY478YM0 NDARRB901DWV NDARRF059RMB NDARRV688GUX NDARRW974PEF NDARRX800KW8 NDARRX897XV1 NDARRZ145TFN NDARTB203DU7 NDARTD925CTP NDARTE159EC4 NDARTF776EYR NDARTJ862ENU NDARTM501BT2 NDARTR175UDC NDARTR464DCR NDARTT979FDD NDARUC591FWN NDARUC771VM5 NDARUD871XPD NDARUJ292JXV NDARUK101YT3 NDARUK658FMU NDARUR126CFH NDARUX086TVT NDARUY549PGQ NDARVB902GA5 NDARVC195NLH NDARVD543CMZ NDARVD552PRC NDARVF012BD2 NDARVF159VP9 NDARVG127VW5 NDARVG761NR2 NDARVN363NNQ NDARVN629CRD NDARVV473XTY NDARVX111CNA NDARVY378DFK NDARWG549LCF NDARWK104FLX NDARWP817CVB NDARWT715BMK NDARWU936JGG NDARWX605LAD NDARWY718TY7 NDARXE193CZ1 NDARXL023GFG NDARXL697DA6 NDARXR346UT5 NDARXU376FDN NDARXZ902NFM NDARYA898BRE NDARYA955CY1 NDARYF463RKF NDARYF699FW0 NDARYL090TGH NDARYM063XB8 NDARYN152YMW NDARYW514CH2 NDARYW984FLT NDARYZ986HEW NDARZA511FYF NDARZG861CXJ NDARZH366BF8 NDARZH521MMD NDARZJ587UZU NDARZK601NG9 NDARZL113CU0 NDARZM903TNL NDARZN578YDP NDARZN914GPB NDARZV421TCZ")
arraylength=${#SESID[@]}
for ((i=0; i<${arraylength}; i++));do
qunexContainer createBatch \
--sfile="subject_hcp.txt" \
--tfile="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-VNav.txt" \
--overwrite="append" \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--subjects=${SESID[$i]} \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=0-00:20:00,ntasks=1,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic_bigmem"
done
mv slurm* /gpfs/project/fas/n3/Studies/HBN/processing/logs/createBatchSlurm

###update batchfile / removing duplicate T1w
# update batch file to ignore duplicate T1w
sed -i 's/T1w             :T1w acq-VNav/                :T1w acq-VNav/g' /gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-VNav.txt
# update batch file to ignore multiple T1w runs
sed -i 's/: T1w             :T1w acq-HCP run-01/:                 :T1w acq-HCP run-01/g' /gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-VNav.txt

# rm unprocessed/T1w folder and hcp/[subjid]/T1w folder for each subject
# we removed the unprocessed T1w folder because we want to get rid of the duplicate T1w files here.
# we want to delete the hcp/[subjid]/T1w folder because it causes an error when rerunning HCP1 with overwrite=on if we keep this folder
# change subject list
#run DM 6/18/20
SUBJECTLIST="NDARAB348EWR NDARAB458VK9 NDARAB708LM5 NDARAE877NER NDARAH793FBF NDARAT680GJA NDARAU530GLJ NDARAX277ATU NDARBF851NH6 NDARBH992ARB NDARBK106KRH NDARBK638HLZ NDARBN365EV3 NDARBN620TT7 NDARBZ925PRF NDARCD296XU9 NDARCG159AAP NDARCG785NND NDARCH628LKW NDARCP292KPA NDARCR582GKJ NDARCR743RHQ NDARDA656RBN NDARDB720VEA NDARDC814WW2 NDARDD073JKZ NDARDD128NWL NDARDD854GF8 NDARDE877RFH NDARDF374LGN NDARDL305BT8 NDARDN089RX5 NDARDR595ZE5 NDARDV245WJG NDARDX196MZP NDARDY741VEB NDARDZ425JVB NDARED945TNQ NDAREE015WGU NDAREJ327AH7 NDARFA089ZZG NDARFB322DRA NDARFD453NPR NDARFG118DW3 NDARFG851ZNZ NDARFG943GVZ NDARFG953RRK NDARFJ000DCY NDARFT787HJW NDARFU395UBW NDARFU786BN4 NDARFU916UZY NDARFX083RCV NDARGB528CP8 NDARGC148JBJ NDARGH842VFY NDARGL085RTW NDARGM196JMM NDARGM439FZD NDARGP984YLN NDARGR893PUA NDARGU844NZ3 NDARGZ207NNA NDARGZ553TMQ NDARHC814ZZL NDARHD931FNA NDARHG594GKH NDARHH819LH3 NDARHL822EJK NDARHW575ZJ5 NDARHW968ABB NDARHX963YU1 NDARHY676RYH NDARJA737FAJ NDARJC399UW7 NDARJF517HC8 NDARJH492TVW NDARJR473HXT NDARJX458DVE NDARKB421MTA NDARKE456BVQ NDARKF704MKL NDARKG697CEW NDARKM250ET5 NDARKM568HJK NDARKN477EBH NDARKU649DB7 NDARKV353MTD NDARKV807EMJ NDARKX371CJY NDARLA048NYE NDARLT314TWP NDARLU939YX4 NDARLV155RW0 NDARLW774VY1 NDARLY114PDC NDARMC473UHD NDARME689TAF NDARME724FJE NDARME789TD2 NDARMG451PJA NDARMH364EMW NDARMT461DNB NDARMV981GZ7 NDARMY873XG5 NDARMZ366UY8 NDARMZ477MNH NDARNB427ARE NDARNN624AMU NDARNU770PM5 NDARNY419GR2 NDARNZ141GNH NDARPD855ARC NDARPE752VYE NDARPF459CME NDARPF682GDC NDARPH474YF3 NDARPL194XDX NDARPN886HH9 NDARPX838GCD NDARPY478YM0 NDARRB901DWV NDARRF059RMB NDARRV688GUX NDARRW974PEF NDARRX800KW8 NDARRX897XV1 NDARRZ145TFN NDARTB203DU7 NDARTD925CTP NDARTE159EC4 NDARTF776EYR NDARTJ862ENU NDARTM501BT2 NDARTR175UDC NDARTR464DCR NDARTT979FDD NDARUC591FWN NDARUC771VM5 NDARUD871XPD NDARUJ292JXV NDARUK101YT3 NDARUK658FMU NDARUR126CFH NDARUX086TVT NDARUY549PGQ NDARVB902GA5 NDARVC195NLH NDARVD543CMZ NDARVD552PRC NDARVF012BD2 NDARVF159VP9 NDARVG127VW5 NDARVG761NR2 NDARVN363NNQ NDARVN629CRD NDARVV473XTY NDARVX111CNA NDARVY378DFK NDARWG549LCF NDARWK104FLX NDARWP817CVB NDARWT715BMK NDARWU936JGG NDARWX605LAD NDARWY718TY7 NDARXE193CZ1 NDARXL023GFG NDARXL697DA6 NDARXR346UT5 NDARXU376FDN NDARXZ902NFM NDARYA898BRE NDARYA955CY1 NDARYF463RKF NDARYF699FW0 NDARYL090TGH NDARYM063XB8 NDARYN152YMW NDARYW514CH2 NDARYW984FLT NDARYZ986HEW NDARZA511FYF NDARZG861CXJ NDARZH366BF8 NDARZH521MMD NDARZJ587UZU NDARZK601NG9 NDARZL113CU0 NDARZM903TNL NDARZN578YDP NDARZN914GPB NDARZV421TCZ"
for file in ${SUBJECTLIST}; do \
rm -r /gpfs/project/fas/n3/Studies/HBN/subjects/${file}/hcp/${file}/unprocessed/T1w; \
rm -r /gpfs/project/fas/n3/Studies/HBN/subjects/${file}/hcp/${file}/T1w; \
done

# remove duplicate T1w from each subject's subject_hcp.txt file
# change subject list and change the sed command to match this batch file
#run DM 6/18/20
SUBJECTLIST="NDARAB348EWR NDARAB458VK9 NDARAB708LM5 NDARAE877NER NDARAH793FBF NDARAT680GJA NDARAU530GLJ NDARAX277ATU NDARBF851NH6 NDARBH992ARB NDARBK106KRH NDARBK638HLZ NDARBN365EV3 NDARBN620TT7 NDARBZ925PRF NDARCD296XU9 NDARCG159AAP NDARCG785NND NDARCH628LKW NDARCP292KPA NDARCR582GKJ NDARCR743RHQ NDARDA656RBN NDARDB720VEA NDARDC814WW2 NDARDD073JKZ NDARDD128NWL NDARDD854GF8 NDARDE877RFH NDARDF374LGN NDARDL305BT8 NDARDN089RX5 NDARDR595ZE5 NDARDV245WJG NDARDX196MZP NDARDY741VEB NDARDZ425JVB NDARED945TNQ NDAREE015WGU NDAREJ327AH7 NDARFA089ZZG NDARFB322DRA NDARFD453NPR NDARFG118DW3 NDARFG851ZNZ NDARFG943GVZ NDARFG953RRK NDARFJ000DCY NDARFT787HJW NDARFU395UBW NDARFU786BN4 NDARFU916UZY NDARFX083RCV NDARGB528CP8 NDARGC148JBJ NDARGH842VFY NDARGL085RTW NDARGM196JMM NDARGM439FZD NDARGP984YLN NDARGR893PUA NDARGU844NZ3 NDARGZ207NNA NDARGZ553TMQ NDARHC814ZZL NDARHD931FNA NDARHG594GKH NDARHH819LH3 NDARHL822EJK NDARHW575ZJ5 NDARHW968ABB NDARHX963YU1 NDARHY676RYH NDARJA737FAJ NDARJC399UW7 NDARJF517HC8 NDARJH492TVW NDARJR473HXT NDARJX458DVE NDARKB421MTA NDARKE456BVQ NDARKF704MKL NDARKG697CEW NDARKM250ET5 NDARKM568HJK NDARKN477EBH NDARKU649DB7 NDARKV353MTD NDARKV807EMJ NDARKX371CJY NDARLA048NYE NDARLT314TWP NDARLU939YX4 NDARLV155RW0 NDARLW774VY1 NDARLY114PDC NDARMC473UHD NDARME689TAF NDARME724FJE NDARME789TD2 NDARMG451PJA NDARMH364EMW NDARMT461DNB NDARMV981GZ7 NDARMY873XG5 NDARMZ366UY8 NDARMZ477MNH NDARNB427ARE NDARNN624AMU NDARNU770PM5 NDARNY419GR2 NDARNZ141GNH NDARPD855ARC NDARPE752VYE NDARPF459CME NDARPF682GDC NDARPH474YF3 NDARPL194XDX NDARPN886HH9 NDARPX838GCD NDARPY478YM0 NDARRB901DWV NDARRF059RMB NDARRV688GUX NDARRW974PEF NDARRX800KW8 NDARRX897XV1 NDARRZ145TFN NDARTB203DU7 NDARTD925CTP NDARTE159EC4 NDARTF776EYR NDARTJ862ENU NDARTM501BT2 NDARTR175UDC NDARTR464DCR NDARTT979FDD NDARUC591FWN NDARUC771VM5 NDARUD871XPD NDARUJ292JXV NDARUK101YT3 NDARUK658FMU NDARUR126CFH NDARUX086TVT NDARUY549PGQ NDARVB902GA5 NDARVC195NLH NDARVD543CMZ NDARVD552PRC NDARVF012BD2 NDARVF159VP9 NDARVG127VW5 NDARVG761NR2 NDARVN363NNQ NDARVN629CRD NDARVV473XTY NDARVX111CNA NDARVY378DFK NDARWG549LCF NDARWK104FLX NDARWP817CVB NDARWT715BMK NDARWU936JGG NDARWX605LAD NDARWY718TY7 NDARXE193CZ1 NDARXL023GFG NDARXL697DA6 NDARXR346UT5 NDARXU376FDN NDARXZ902NFM NDARYA898BRE NDARYA955CY1 NDARYF463RKF NDARYF699FW0 NDARYL090TGH NDARYM063XB8 NDARYN152YMW NDARYW514CH2 NDARYW984FLT NDARYZ986HEW NDARZA511FYF NDARZG861CXJ NDARZH366BF8 NDARZH521MMD NDARZJ587UZU NDARZK601NG9 NDARZL113CU0 NDARZM903TNL NDARZN578YDP NDARZN914GPB NDARZV421TCZ"
for file in ${SUBJECTLIST}; do \
sed -i 's/T1w             :T1w acq-VNav/                :T1w acq-VNav/g' /gpfs/project/fas/n3/Studies/HBN/subjects/${file}/subject_hcp.txt
sed -i 's/: T1w             :T1w acq-HCP run-01/:                 :T1w acq-HCP run-01/g' /gpfs/project/fas/n3/Studies/HBN/subjects/${file}/subject_hcp.txt
done

## - rerun setupHCP for deleted T1w folders
# change subject list
#run DM 6/18/20
SUBJECTLIST="NDARAB348EWR NDARAB458VK9 NDARAB708LM5 NDARAE877NER NDARAH793FBF NDARAT680GJA NDARAU530GLJ NDARAX277ATU NDARBF851NH6 NDARBH992ARB NDARBK106KRH NDARBK638HLZ NDARBN365EV3 NDARBN620TT7 NDARBZ925PRF NDARCD296XU9 NDARCG159AAP NDARCG785NND NDARCH628LKW NDARCP292KPA NDARCR582GKJ NDARCR743RHQ NDARDA656RBN NDARDB720VEA NDARDC814WW2 NDARDD073JKZ NDARDD128NWL NDARDD854GF8 NDARDE877RFH NDARDF374LGN NDARDL305BT8 NDARDN089RX5 NDARDR595ZE5 NDARDV245WJG NDARDX196MZP NDARDY741VEB NDARDZ425JVB NDARED945TNQ NDAREE015WGU NDAREJ327AH7 NDARFA089ZZG NDARFB322DRA NDARFD453NPR NDARFG118DW3 NDARFG851ZNZ NDARFG943GVZ NDARFG953RRK NDARFJ000DCY NDARFT787HJW NDARFU395UBW NDARFU786BN4 NDARFU916UZY NDARFX083RCV NDARGB528CP8 NDARGC148JBJ NDARGH842VFY NDARGL085RTW NDARGM196JMM NDARGM439FZD NDARGP984YLN NDARGR893PUA NDARGU844NZ3 NDARGZ207NNA NDARGZ553TMQ NDARHC814ZZL NDARHD931FNA NDARHG594GKH NDARHH819LH3 NDARHL822EJK NDARHW575ZJ5 NDARHW968ABB NDARHX963YU1 NDARHY676RYH NDARJA737FAJ NDARJC399UW7 NDARJF517HC8 NDARJH492TVW NDARJR473HXT NDARJX458DVE NDARKB421MTA NDARKE456BVQ NDARKF704MKL NDARKG697CEW NDARKM250ET5 NDARKM568HJK NDARKN477EBH NDARKU649DB7 NDARKV353MTD NDARKV807EMJ NDARKX371CJY NDARLA048NYE NDARLT314TWP NDARLU939YX4 NDARLV155RW0 NDARLW774VY1 NDARLY114PDC NDARMC473UHD NDARME689TAF NDARME724FJE NDARME789TD2 NDARMG451PJA NDARMH364EMW NDARMT461DNB NDARMV981GZ7 NDARMY873XG5 NDARMZ366UY8 NDARMZ477MNH NDARNB427ARE NDARNN624AMU NDARNU770PM5 NDARNY419GR2 NDARNZ141GNH NDARPD855ARC NDARPE752VYE NDARPF459CME NDARPF682GDC NDARPH474YF3 NDARPL194XDX NDARPN886HH9 NDARPX838GCD NDARPY478YM0 NDARRB901DWV NDARRF059RMB NDARRV688GUX NDARRW974PEF NDARRX800KW8 NDARRX897XV1 NDARRZ145TFN NDARTB203DU7 NDARTD925CTP NDARTE159EC4 NDARTF776EYR NDARTJ862ENU NDARTM501BT2 NDARTR175UDC NDARTR464DCR NDARTT979FDD NDARUC591FWN NDARUC771VM5 NDARUD871XPD NDARUJ292JXV NDARUK101YT3 NDARUK658FMU NDARUR126CFH NDARUX086TVT NDARUY549PGQ NDARVB902GA5 NDARVC195NLH NDARVD543CMZ NDARVD552PRC NDARVF012BD2 NDARVF159VP9 NDARVG127VW5 NDARVG761NR2 NDARVN363NNQ NDARVN629CRD NDARVV473XTY NDARVX111CNA NDARVY378DFK NDARWG549LCF NDARWK104FLX NDARWP817CVB NDARWT715BMK NDARWU936JGG NDARWX605LAD NDARWY718TY7 NDARXE193CZ1 NDARXL023GFG NDARXL697DA6 NDARXR346UT5 NDARXU376FDN NDARXZ902NFM NDARYA898BRE NDARYA955CY1 NDARYF463RKF NDARYF699FW0 NDARYL090TGH NDARYM063XB8 NDARYN152YMW NDARYW514CH2 NDARYW984FLT NDARYZ986HEW NDARZA511FYF NDARZG861CXJ NDARZH366BF8 NDARZH521MMD NDARZJ587UZU NDARZK601NG9 NDARZL113CU0 NDARZM903TNL NDARZN578YDP NDARZN914GPB NDARZV421TCZ"
#run DM n=81
SUBJECTLIST="NDARCH628LKW NDARCP292KPA NDARCR582GKJ NDARDC814WW2 NDARDD073JKZ NDARDD128NWL NDARDD854GF8 NDARDE877RFH NDARDF374LGN NDARDL305BT8 NDARDN089RX5 NDARDR595ZE5 NDARDV245WJG NDARDX196MZP NDARDY741VEB NDARDZ425JVB NDARED945TNQ NDAREE015WGU NDAREJ327AH7 NDARFA089ZZG NDARFB322DRA NDARFD453NPR NDARFG118DW3 NDARFG851ZNZ NDARFG943GVZ NDARFG953RRK NDARFJ000DCY NDARFU786BN4 NDARFU916UZY NDARFX083RCV NDARGZ553TMQ NDARHC814ZZL NDARHD931FNA NDARHH819LH3 NDARHL822EJK NDARHW575ZJ5 NDARHX963YU1 NDARHY676RYH NDARJA737FAJ NDARJX458DVE NDARKB421MTA NDARKE456BVQ NDARKX371CJY NDARLA048NYE NDARLT314TWP NDARLW774VY1 NDARLY114PDC NDARMC473UHD NDARME789TD2 NDARMG451PJA NDARMH364EMW NDARMY873XG5 NDARMZ366UY8 NDARMZ477MNH NDARPN886HH9 NDARPX838GCD NDARPY478YM0 NDARRV688GUX NDARRW974PEF NDARRX800KW8 NDARTB203DU7 NDARTD925CTP NDARTE159EC4 NDARTM501BT2 NDARTR175UDC NDARTR464DCR NDARVD543CMZ NDARVD552PRC NDARVF012BD2 NDARVG761NR2 NDARVN363NNQ NDARVN629CRD NDARVY378DFK NDARWG549LCF NDARWK104FLX NDARWX605LAD NDARWY718TY7 NDARXE193CZ1 NDARYN152YMW NDARYW514CH2 NDARYW984FLT"
#run DM n=6 07-07-20
SUBJECTLIST="NDARZA511FYF NDARZG861CXJ NDARZH366BF8 NDARZK601NG9 NDARZL113CU0 NDARZM903TNL"
for file in ${SUBJECTLIST}; do \
qunexContainer setupHCP \
--sfolder="/gpfs/project/fas/n3/Studies/HBN/subjects/${file}" \
--sfile="subject_hcp.txt" \
--scheduler="SLURM,time=1-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif"; \
done

# sshcpu
# SUBJECTLIST="NDARAB348EWR NDARAB458VK9 NDARAB708LM5"
# for file in ${SUBJECTLIST}; do \
# qunexContainer setupHCP \
# --sfolder="/gpfs/project/fas/n3/Studies/HBN/subjects/${file}" \
# --sfile="subject_hcp.txt" \
# --container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif"; \
# done

##### Minimal Preprocessing Pipeline
## hcp1 ##
# run 190912 39792769 190913 39878892
#run DM 02-13-2020
# n=193 sessions - TO RERUN
qunexContainer hcp1 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-VNav.txt" \
--cores="4" \
--hcp_t2="t2" \
--overwrite="no" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=0-23:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic"

#all subj run DM 6/28/20
SUBJECTLIST="NDARAB348EWR NDARAB458VK9 NDARAB708LM5 NDARAE877NER NDARAH793FBF NDARAT680GJA NDARAU530GLJ NDARAX277ATU NDARBF851NH6 NDARBH992ARB NDARBK106KRH NDARBK638HLZ NDARBN365EV3 NDARBN620TT7 NDARBZ925PRF NDARCD296XU9 NDARCG159AAP NDARCG785NND NDARCH628LKW NDARCP292KPA NDARCR582GKJ NDARCR743RHQ NDARDA656RBN NDARDB720VEA NDARDC814WW2 NDARDD073JKZ NDARDD128NWL NDARDD854GF8 NDARDE877RFH NDARDF374LGN NDARDL305BT8 NDARDN089RX5 NDARDR595ZE5 NDARDV245WJG NDARDX196MZP NDARDY741VEB NDARDZ425JVB NDARED945TNQ NDAREE015WGU NDAREJ327AH7 NDARFA089ZZG NDARFB322DRA NDARFD453NPR NDARFG118DW3 NDARFG851ZNZ NDARFG943GVZ NDARFG953RRK NDARFJ000DCY NDARFT787HJW NDARFU395UBW NDARFU786BN4 NDARFU916UZY NDARFX083RCV NDARGB528CP8 NDARGC148JBJ NDARGH842VFY NDARGL085RTW NDARGM196JMM NDARGM439FZD NDARGP984YLN NDARGR893PUA NDARGU844NZ3 NDARGZ207NNA NDARGZ553TMQ NDARHC814ZZL NDARHD931FNA NDARHG594GKH NDARHH819LH3 NDARHL822EJK NDARHW575ZJ5 NDARHW968ABB NDARHX963YU1 NDARHY676RYH NDARJA737FAJ NDARJC399UW7 NDARJF517HC8 NDARJH492TVW NDARJR473HXT NDARJX458DVE NDARKB421MTA NDARKE456BVQ NDARKF704MKL NDARKG697CEW NDARKM250ET5 NDARKM568HJK NDARKN477EBH NDARKU649DB7 NDARKV353MTD NDARKV807EMJ NDARKX371CJY NDARLA048NYE NDARLT314TWP NDARLU939YX4 NDARLV155RW0 NDARLW774VY1 NDARLY114PDC NDARMC473UHD NDARME689TAF NDARME724FJE NDARME789TD2 NDARMG451PJA NDARMH364EMW NDARMT461DNB NDARMV981GZ7 NDARMY873XG5 NDARMZ366UY8 NDARMZ477MNH NDARNB427ARE NDARNN624AMU NDARNU770PM5 NDARNY419GR2 NDARNZ141GNH NDARPD855ARC NDARPE752VYE NDARPF459CME NDARPF682GDC NDARPH474YF3 NDARPL194XDX NDARPN886HH9 NDARPX838GCD NDARPY478YM0 NDARRB901DWV NDARRF059RMB NDARRV688GUX NDARRW974PEF NDARRX800KW8 NDARRX897XV1 NDARRZ145TFN NDARTB203DU7 NDARTD925CTP NDARTE159EC4 NDARTF776EYR NDARTJ862ENU NDARTM501BT2 NDARTR175UDC NDARTR464DCR NDARTT979FDD NDARUC591FWN NDARUC771VM5 NDARUD871XPD NDARUJ292JXV NDARUK101YT3 NDARUK658FMU NDARUR126CFH NDARUX086TVT NDARUY549PGQ NDARVB902GA5 NDARVC195NLH NDARVD543CMZ NDARVD552PRC NDARVF012BD2 NDARVF159VP9 NDARVG127VW5 NDARVG761NR2 NDARVN363NNQ NDARVN629CRD NDARVV473XTY NDARVX111CNA NDARVY378DFK NDARWG549LCF NDARWK104FLX NDARWP817CVB NDARWT715BMK NDARWU936JGG NDARWX605LAD NDARWY718TY7 NDARXE193CZ1 NDARXL023GFG NDARXL697DA6 NDARXR346UT5 NDARXU376FDN NDARXZ902NFM NDARYA898BRE NDARYA955CY1 NDARYF463RKF NDARYF699FW0 NDARYL090TGH NDARYM063XB8 NDARYN152YMW NDARYW514CH2 NDARYW984FLT NDARYZ986HEW NDARZA511FYF NDARZG861CXJ NDARZH366BF8 NDARZH521MMD NDARZJ587UZU NDARZK601NG9 NDARZL113CU0 NDARZM903TNL NDARZN578YDP NDARZN914GPB NDARZV421TCZ"
#n=81 subj run 7/6/2020
SUBJECTLIST="NDARCH628LKW NDARCP292KPA NDARCR582GKJ NDARDC814WW2 NDARDD073JKZ NDARDD128NWL NDARDD854GF8 NDARDE877RFH NDARDF374LGN NDARDL305BT8 NDARDN089RX5 NDARDR595ZE5 NDARDV245WJG NDARDX196MZP NDARDY741VEB NDARDZ425JVB NDARED945TNQ NDAREE015WGU NDAREJ327AH7 NDARFA089ZZG NDARFB322DRA NDARFD453NPR NDARFG118DW3 NDARFG851ZNZ NDARFG943GVZ NDARFG953RRK NDARFJ000DCY NDARFU786BN4 NDARFU916UZY NDARFX083RCV NDARGZ553TMQ NDARHC814ZZL NDARHD931FNA NDARHH819LH3 NDARHL822EJK NDARHW575ZJ5 NDARHX963YU1 NDARHY676RYH NDARJA737FAJ NDARJX458DVE NDARKB421MTA NDARKE456BVQ NDARKX371CJY NDARLA048NYE NDARLT314TWP NDARLW774VY1 NDARLY114PDC NDARMC473UHD NDARME789TD2 NDARMG451PJA NDARMH364EMW NDARMY873XG5 NDARMZ366UY8 NDARMZ477MNH NDARPN886HH9 NDARPX838GCD NDARPY478YM0 NDARRV688GUX NDARRW974PEF NDARRX800KW8 NDARTB203DU7 NDARTD925CTP NDARTE159EC4 NDARTM501BT2 NDARTR175UDC NDARTR464DCR NDARVD543CMZ NDARVD552PRC NDARVF012BD2 NDARVG761NR2 NDARVN363NNQ NDARVN629CRD NDARVY378DFK NDARWG549LCF NDARWK104FLX NDARWX605LAD NDARWY718TY7 NDARXE193CZ1 NDARYN152YMW NDARYW514CH2 NDARYW984FLT"
for file in ${SUBJECTLIST}; do \
qunexContainer hcp1 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-VNav.txt" \
--subjid=${file} \
--cores="4" \
--overwrite="yes" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=7-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic"
done

#n=6 subj to be run DM
#NDARZA511FYF NDARZG861CXJ NDARZH366BF8 NDARZK601NG9 NDARZL113CU0 NDARZM903TNL
qunexContainer hcp1 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-VNav.txt" \
--subjid="NDARZA511FYF NDARZG861CXJ NDARZH366BF8 NDARZK601NG9 NDARZL113CU0 NDARZM903TNL" \
--cores="4" \
--hcp_t2="t2" \
--overwrite="yes" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=7-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic"


## hcp2 ##
#run DM 07-07-20 all subj
qunexContainer hcp2 \
 --subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
 --sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-HCP_T2w-VNav.txt" \
 --cores="4" \
 --hcp_t2="t2" \
 --overwrite="no" \
 --container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
 --scheduler="SLURM,time=4-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic"

#tmp-hcp2 from 07-07-20 NDARCG785NND NDARDD073JKZ NDARDD128NWL NDARDR595ZE5 NDARGP984YLN NDARHW575ZJ5 NDARHW968ABB NDARKE456BVQ NDARKF704MKL NDARKV353MTD NDARME789TD2 NDARMH364EMW NDARMV981GZ7 NDARMZ366UY8 NDARMZ477MNH NDARPH474YF3 NDARTD925CTP NDARTR464DCR NDARUR126CFH NDARUY549PGQ NDARVF012BD2 NDARVG761NR2 NDARWU936JGG NDARYN152YMW NDARYW514CH2 NDARYZ986HEW NDARZH521MMD NDARZV421TCZ
#error-hcp2 from 07-07-20 NDARBK638HLZ NDARLW774VY1 NDARUC591FWN 

#unusable HCP run-02 acquisition NDARCG785NND NDARDD073JKZ NDARDD128NWL NDARDR595ZE5 NDARGP984YLN NDARHW575ZJ5 NDARHW968ABB NDARKE456BVQ NDARKF704MKL NDARKV353MTD NDARME789TD2 NDARMZ366UY8 NDARMZ477MNH NDARPH474YF3 NDARTD925CTP NDARTR464DCR NDARUR126CFH NDARUY549PGQ NDARVF012BD2 NDARVG761NR2 NDARWU936JGG NDARYN152YMW NDARYZ986HEW NDARZH521MMD NDARZV421TCZ
#might be usable NDARMH364EMW NDARMV981GZ7 NDARYW514CH2

#might be usable with HCP run-01 NDARCG785NND NDARDD073JKZ NDARDR595ZE5 NDARKE456BVQ NDARKF704MKL NDARKV353MTD NDARME789TD2 NDARVF012BD2 NDARZH521MMD NDARZV421TCZ
#not usable HCP run-01 NDARDD128NWL NDARGP984YLN NDARHW575ZJ5 NDARHW968ABB NDARMZ366UY8 NDARMZ477MNH NDARPH474YF3 NDARTD925CTP NDARTR464DCR NDARUR126CFH NDARUY549PGQ NDARVG761NR2 NDARWU936JGG NDARYN152YMW NDARYZ986HEW

## hcp3 ##

## hcp4 ##

## hcp5 ##

## mapHCPData ##

## createBOLDBrainMasks ##

## computeBOLDStats ##

## createStatsReport ##

## extractNuisanceSignal ##



############################################################################################
## 4. ###################### CBIC_New_T1w-VNav_T2w-NONE preprocessing ##########################
############################################################################################

#batchfile: subjects.CBIC_New_T1w-VNav_T2w-NONE.txt

##NDARUL454XRE >> using T1w VNavNorm, not VNav

## createBatch ##
declare -a SESID=("NDARUL454XRE NDARLM194CEN")
arraylength=${#SESID[@]}
for ((i=0; i<${arraylength}; i++));do
qunexContainer createBatch \
--sfile="subject_hcp.txt" \
--tfile="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-VNav_T2w-NONE.txt" \
--overwrite="append" \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--subjects=${SESID[$i]} \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=0-00:20:00,ntasks=1,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic_bigmem"
done
mv slurm* /gpfs/project/fas/n3/Studies/HBN/processing/logs/createBatchSlurm

#re-run setupHCP for NDARUL454XRE
#done
SUBJECTLIST="NDARUL454XRE"
for file in ${SUBJECTLIST}; do \
qunexContainer setupHCP \
--sfolder="/gpfs/project/fas/n3/Studies/HBN/subjects/${file}" \
--sfile="subject_hcp.txt" \
--scheduler="SLURM,time=1-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif"; \
done

##### Minimal Preprocessing Pipeline
## hcp1 ##
# run 190912 39792910 190913 39878939
#run DM 02-18-2020
qunexContainer hcp1 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-VNav_T2w-NONE.txt" \
--cores="1" \
--hcp_t2="NONE" \
--overwrite="no" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=7-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic_bigmem"

##run DM 02-20-2020
qunexContainer hcp1 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-VNav_T2w-NONE.txt" \
--cores="2" \
--hcp_t2="NONE" \
--overwrite="no" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=1-00:00:00,ntasks=2,cpus-per-task=1,mem-per-cpu=10000,partition=day"

#run DM 7/6/2020
qunexContainer hcp1 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-VNav_T2w-NONE.txt" \
--cores="2" \
--hcp_t2="NONE" \
--overwrite="yes" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=1-00:00:00,ntasks=2,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic"

## hcp2 ##
#run DM 07-07-20 all subj
qunexContainer hcp2 \
 --subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
 --sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-VNav_T2w-NONE.txt" \
 --cores="2" \
 --hcp_t2="t2" \
 --overwrite="no" \
 --container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
 --scheduler="SLURM,time=4-00:00:00,ntasks=2,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic"

## hcp3 ##
#run DM 07-20-20
qunexContainer hcp3 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_New_T1w-VNav_T2w-NONE.txt" \
--overwrite="yes" \
--cores="2" \
--hcp_t2="NONE" \
--overwrite="no" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=01-00:00:00,ntasks=2,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic"

## hcp4 ##

## hcp5 ##

## mapHCPData ##

## createBOLDBrainMasks ##

## computeBOLDStats ##

## createStatsReport ##

## extractNuisanceSignal ##



############################################################################################
## - 5. ###################### CBIC_Old_T1w-VNav_T2w-NONE preprocessing ##########################
############################################################################################

#batchfile: subjects.CBIC_Old_T1w-VNav_T2w-NONE.txt

## createBatch ##
declare -a SESID=("NDARAM873GAC NDARAV519RND NDARAY461TZZ NDARBT640EBN NDARBU532YXZ NDARCC140AAK NDARCG947ZC0 NDARCP057XJB NDAREC542MH3 NDAREK549XUQ NDAREM155HGQ NDAREU591YYA NDARFB757VY3 NDARFG027BT5 NDARFG757CEU NDARGA563XVW NDARGC471KD1 NDARGK059JW7 NDARGX173AC3 NDARHE199NGL NDARHR763RB4 NDARJF579EH9 NDARJH652HGG NDARJJ343TR0 NDARJU787GF5 NDARJY747PRJ NDARKG594WKT NDARLK963HXP NDARLP507NKW NDARLZ745EUN NDARMU161LHN NDARMZ518UH1 NDARNA335GX2 NDARNA768ZAK NDARNP626EM0 NDARPJ832WL6 NDARRC355BM6 NDARRM586XYL NDARTC802PGL NDARTW958NXU NDARUF152ARR NDARVJ685ZW5 NDARVP953BBF NDARWG911DZG NDARWH778CPD NDARWJ621JRZ NDARWL758PAM NDARWM632AFC NDARWM835BR8 NDARWV487HE0 NDARWV625CRP NDARWV952EZT NDARXM571XCC NDARXV094ZHH NDARYF085LZQ NDARZH930XTP NDARZN677EYE")
arraylength=${#SESID[@]}
for ((i=0; i<${arraylength}; i++));do
qunexContainer createBatch \
--sfile="subject_hcp.txt" \
--tfile="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_Old_T1w-VNav_T2w-NONE.txt" \
--overwrite="append" \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--subjects=${SESID[$i]} \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=0-00:20:00,ntasks=1,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic_bigmem"
done
mv slurm* /gpfs/project/fas/n3/Studies/HBN/processing/logs/createBatchSlurm

# rm unprocessed/T1w folder and hcp/[subjid]/T1w folder for each subject
# we removed the unprocessed T1w folder because we want to get rid of the duplicate T1w files here.
# we want to delete the hcp/[subjid]/T1w folder because it causes an error when rerunning HCP1 with overwrite=on if we keep this folder
# change subject list
#run DM 6/18/20 error--> no hcp/[subjid]/T1w folder present
SUBJECTLIST="NDARFB757VY3 NDARJF579EH9 NDARVP953BBF NDARUF152ARR"
for file in ${SUBJECTLIST}; do \
rm -r /gpfs/project/fas/n3/Studies/HBN/subjects/${file}/hcp/${file}/unprocessed/T1w; \
rm -r /gpfs/project/fas/n3/Studies/HBN/subjects/${file}/hcp/${file}/T1w; \
done

# remove duplicate T1w from each subject's subject_hcp.txt file
# change subject list and change the sed command to match this batch file
#run DM 6/18/20
SUBJECTLIST="NDARFB757VY3 NDARJF579EH9 NDARVP953BBF NDARUF152ARR"
for file in ${SUBJECTLIST}; do \
sed -i 's/T1w             :T1w acq-HCP/                :T1w acq-HCP/g' /gpfs/project/fas/n3/Studies/HBN/subjects/${file}/subject_hcp.txt
done

## - rerun setupHCP for deleted T1w folders
# change subject list
#run DM
SUBJECTLIST="NDARFB757VY3 NDARJF579EH9 NDARVP953BBF NDARUF152ARR"
for file in ${SUBJECTLIST}; do \
qunexContainer setupHCP \
--sfolder="/gpfs/project/fas/n3/Studies/HBN/subjects/${file}" \
--sfile="subject_hcp.txt" \
--scheduler="SLURM,time=1-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif"; \
done

##### Minimal Preprocessing Pipeline
## hcp1 ##
# rim 190912 39792967 190913 39879004
#run DM 02-18-2020
qunexContainer hcp1 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_Old_T1w-VNav_T2w-NONE.txt" \
--cores="1" \
--hcp_t2="NONE" \
--overwrite="no" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=7-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic_bigmem"

#run DM 6/29/20 n=4 subjects
SUBJECTLIST="NDARFB757VY3 NDARJF579EH9 NDARVP953BBF NDARUF152ARR"
for file in ${SUBJECTLIST}; do \
qunexContainer hcp1 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_Old_T1w-VNav_T2w-NONE.txt" \
--subjid=${file} \
--cores="4" \
--overwrite="yes" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=7-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic"
done

#n=40 sessions need hcp1 re-run
#to run DM 07-20-20 (change subjectlist)
SUBJECTLIST="NDARCG947ZC0 NDARCP057XJB NDARFG757CEU NDARGA563XVW NDARGC471KD1 NDARGX173AC3 NDARHE199NGL NDARHR763RB4 NDARJH652HGG NDARJJ343TR0 NDARJU787GF5 NDARJY747PRJ NDARKG594WKT NDARLK963HXP NDARLP507NKW NDARLZ745EUN NDARMU161LHN NDARMZ518UH1 NDARNA335GX2 NDARNP626EM0 NDARPJ832WL6 NDARRC355BM6 NDARRM586XYL NDARTC802PGL NDARTW958NXU NDARVJ685ZW5 NDARWG911DZG NDARWH778CPD NDARWJ621JRZ NDARWL758PAM NDARWM632AFC NDARWM835BR8 NDARWV487HE0 NDARWV625CRP NDARWV952EZT NDARXM571XCC NDARXV094ZHH NDARYF085LZQ NDARZH930XTP NDARZN677EYE"
for file in ${SUBJECTLIST}; do \
qunexContainer hcp1 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_Old_T1w-VNav_T2w-NONE.txt" \
--subjid=${file} \
--cores="4" \
--hcp_t2="NONE" \
--overwrite="yes" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=7-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic"
done

## hcp2 ##
#run DM 7/6/2020 all subj
qunexContainer hcp2 \
 --subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
 --sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_Old_T1w-VNav_T2w-NONE.txt" \
 --cores="4" \
 --hcp_t2="t2" \
 --overwrite="no" \
 --container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
 --scheduler="SLURM,time=4-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic"

#no hcp2 logs NDARCG947ZC0 NDARCP057XJB NDARFG757CEU NDARGA563XVW NDARGC471KD1 NDARGX173AC3 NDARHE199NGL NDARHR763RB4 NDARJH652HGG NDARJJ343TR0 NDARJU787GF5 NDARJY747PRJ NDARKG594WKT NDARLK963HXP NDARLP507NKW NDARLZ745EUN NDARMU161LHN NDARMZ518UH1 NDARNA335GX2 NDARNP626EM0 NDARPJ832WL6 NDARRC355BM6 NDARRM586XYL NDARTC802PGL NDARTW958NXU NDARVJ685ZW5 NDARWG911DZG NDARWH778CPD NDARWJ621JRZ NDARWL758PAM NDARWM632AFC NDARWM835BR8 NDARWV487HE0 NDARWV625CRP NDARWV952EZT NDARXM571XCC NDARXV094ZHH NDARYF085LZQ NDARZH930XTP NDARZN677EYE

## hcp3 ##

## hcp4 ##

## hcp5 ##

## mapHCPData ##

## createBOLDBrainMasks ##

## computeBOLDStats ##

## createStatsReport ##

## extractNuisanceSignal ##




############################################################################################
## - 6. ###################### CBIC_Old_T1w-VNav_T2w-HCP preprocessing ###########################
############################################################################################

#batchfile: subjects.CBIC_Old_T1w-VNav_T2w-HCP.txt

## createBatch ##
declare -a SESID=("NDARDY714NV9 NDARFJ803JF7 NDARFP909LY1 NDARLH881FBD")
arraylength=${#SESID[@]}
for ((i=0; i<${arraylength}; i++));do
qunexContainer createBatch \
--sfile="subject_hcp.txt" \
--tfile="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_Old_T1w-VNav_T2w-HCP.txt" \
--overwrite="append" \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--subjects=${SESID[$i]} \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=0-00:20:00,ntasks=1,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic_bigmem"
done
mv slurm* /gpfs/project/fas/n3/Studies/HBN/processing/logs/createBatchSlurm

# rm unprocessed/T1w folder and hcp/[subjid]/T1w folder for each subject
# we removed the unprocessed T1w folder because we want to get rid of the duplicate T1w files here.
# we want to delete the hcp/[subjid]/T1w folder because it causes an error when rerunning HCP1 with overwrite=on if we keep this folder
# change subject list
#run DM 07-18-20
SUBJECTLIST="NDARDY714NV9 NDARFJ803JF7 NDARFP909LY1 NDARLH881FBD"
for file in ${SUBJECTLIST}; do \
rm -r /gpfs/project/fas/n3/Studies/HBN/subjects/${file}/hcp/${file}/unprocessed/T1w; \
rm -r /gpfs/project/fas/n3/Studies/HBN/subjects/${file}/hcp/${file}/T1w; \
done

# remove duplicate T1w from each subject's subject_hcp.txt file
# change subject list and change the sed command to match this batch file
#run DM 07-18-20
SUBJECTLIST="NDARDY714NV9 NDARFJ803JF7 NDARFP909LY1 NDARLH881FBD"
for file in ${SUBJECTLIST}; do \
sed -i 's/T1w             :T1w acq-HCP/                :T1w acq-HCP/g' /gpfs/project/fas/n3/Studies/HBN/subjects/${file}/subject_hcp.txt
done

## - rerun setupHCP for deleted T1w folders
# change subject list
#run DM 07-20-20
SUBJECTLIST="NDARDY714NV9 NDARFJ803JF7 NDARFP909LY1 NDARLH881FBD"
for file in ${SUBJECTLIST}; do \
qunexContainer setupHCP \
--sfolder="/gpfs/project/fas/n3/Studies/HBN/subjects/${file}" \
--sfile="subject_hcp.txt" \
--scheduler="SLURM,time=1-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif"; \
done

##### Minimal Preprocessing Pipeline
## hcp1 ##
# run 190912 39792978 190913 39879014
#run DM 02-18-2020
qunexContainer hcp1 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_Old_T1w-VNav_T2w-HCP.txt" \
--cores="1" \
--hcp_t2="t2" \
--overwrite="no" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=7-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic_bigmem"

## hcp2 ##
#run DM 6/28/20 (no logs, changed overwrite to yes) 
#re-run 7/6/2020
qunexContainer hcp2 \
 --subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
 --sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.CBIC_Old_T1w-VNav_T2w-HCP.txt" \
 --cores="4" \
 --hcp_t2="t2" \
 --overwrite="yes" \
 --container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
 --scheduler="SLURM,time=4-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic"

## hcp3 ##

## hcp4 ##

## hcp5 ##

## mapHCPData ##

## createBOLDBrainMasks ##

## computeBOLDStats ##

## createStatsReport ##

## extractNuisanceSignal ##




############################################################################################
## - 7. ###################### RU_T1w_T2w preprocessing ##########################################
############################################################################################

#batchfile: subjects.RU_T1w_T2w.txt

## createBatch ##
declare -a SESID=("NDARAC495TJ2 NDARAD224CRB NDARAE270LEZ NDARAH304ED7 NDARAJ689BVN NDARAK738BGC NDARAM848GTE NDARAN262WK6 NDARAP522AFK NDARAP785CTE NDARAP964VDB NDARAT358XM9 NDARAU708TL8 NDARAU967RWU NDARAV820UEP NDARAX272ZJL NDARAX283MAK NDARAX358NB5 NDARAY283AU1 NDARBC240LNC NDARBH133TK6 NDARBH228RDW NDARBL042LWN NDARBL444FBA NDARBL935ZUA NDARBM433VER NDARBT607PZL NDARBV577EE0 NDARBW026UGE NDARBW403EVZ NDARCA740UC8 NDARCG438NML NDARCH001CN2 NDARCH868WVX NDARCJ433TCG NDARCU621EBN NDARCV154DB9 NDARCV981XUY NDARCW946WNE NDARCY036NTA NDARCY178KJP NDARCZ915NC1 NDARDA472JE3 NDARDA573XGG NDARDA665DRH NDARDC843HHM NDARDE283PLC NDARDF568GL5 NDARDL291DN4 NDARDN489EXJ NDARDR236FWH NDARDR950CGG NDARDT181RP4 NDARDT499DWP NDARDU853XZ6 NDARDX872VH6 NDARDZ147ETZ NDARDZ528DLZ NDARDZ627XFA NDAREC277JCP NDAREC480KFA NDARED628HMQ NDAREF624KJN NDAREF848YWD NDAREG590BNY NDAREJ923FZU NDAREK575JNM NDAREM609ZXW NDAREP505XAD NDAREV617HAP NDAREW661NZJ NDAREW671HZW NDAREX065KJU NDAREX589EXG NDARFA165XBV NDARFA737TG6 NDARFE299MWU NDARFE526NK3 NDARFK027LB0 NDARFM328XW4 NDARFM948RTJ NDARFR095UJK NDARFR301KKP NDARFT964EU8 NDARFU444HEF NDARFV685ZT2 NDARFX710UZA NDARGA048BD8 NDARGA507DCC NDARGD425PTN NDARGH074MU6 NDARGK672URV NDARGK943RL3 NDARGL936KTV NDARGN044FE4 NDARGR354WBH NDARGU395RFP NDARGV948BFZ NDARGX760NYV NDARHB689WH7 NDARHC453LC1 NDARHF545HFW NDARHG065YHQ NDARHG294AFG NDARHK526BY1 NDARHL684WYU NDARHP841RMR NDARHR099EWX NDARHR140GMB NDARHT095YB4 NDARHT829KKB NDARHT844LZR NDARHX418ZGJ NDARJ257ZU2 NDARJB233RL7 NDARJB355YHK NDARJB366HYJ NDARJD235KZA NDARJE070PLA NDARJG298YVA NDARJG687YYX NDARJH367WKY NDARJH707GJM NDARJH99CWH NDARJJ767FBH NDARJM036PVX NDARJM296MDW NDARJN531EN3 NDARJP146GT9 NDARJT064LRE NDARJT588ZAX NDARJX505XD6 NDARJZ526HN3 NDARKD064EVC NDARKE726AMA NDARKF779EK2 NDARKH171DG8 NDARKH298MA3 NDARKH444AGK NDARKJ322ELL NDARKK000PNQ NDARKK392ZX2 NDARKK774VP5 NDARKM784VA7 NDARKN346XZH NDARKN848XH8 NDARKP053GCC NDARKP893TWU NDARKX665ZD3 NDARKZ634RVX NDARLB671TLU NDARLD738DUM NDARLD978JVJ NDARLE417FRX NDARLE417RA4 NDARLF032LXH NDARLF709KNN NDARLG154ZA3 NDARLJ148JH2 NDARLL331PW8 NDARLP246NT6 NDARLR620FW6 NDARLU111UYF NDARME100GK1 NDARME736MN8 NDARMH559LKK NDARMJ495DE0 NDARMK416UUQ NDARMN690FGZ NDARMP977RHZ NDARMT882AWE NDARMU518TVN NDARMW473LL1 NDARMX277VHC NDARMY254BGN NDARMY456WML NDARMZ790VHM NDARND697FLK NDARNE196LV0 NDARNE406XC3 NDARNF341BNN NDARNH200DA6 NDARNK055HVH NDARNK322PHW NDARNK740ZVM NDARNM147CG2 NDARNM708YTF NDARNN142WYB NDARNR459MUJ NDARNT043XGH NDARNV694EMG NDARNX125KJ1 NDARNX223DY3 NDARNY023FWG NDARNY894TH7 NDARNZ610KZY NDARPB619PHV NDARPD029JVJ NDARPD568LHV NDARPF395NV5 NDARPG847LB8 NDARPH923FN7 NDARPK237YHD NDARPK300HMV NDARPL201YL4 NDARPP622WV4 NDARPP726XBF NDARPZ344ZGE NDARRB338YZ0 NDARRD943ZWU NDARRH285LR3 NDARRH344TL7 NDARRM073JKA NDARRM122UPB NDARRP008LJ6 NDARRP384BVX NDARRP801AX1 NDARRU729XRU NDARRV941EAC NDARRW141HUT NDARRW951BYF NDARRZ927VC3 NDARTA819MF0 NDARTB294NF0 NDARTB755MF5 NDARTC652JK4 NDARTC865YNZ NDARTG035JK8 NDARTG396FGE NDARTN173MXV NDARTP270UAV NDARTT013GUN NDARTT272WT5 NDARTT667RKQ NDARTV525XC0 NDARTY225EWV NDARTZ901LDK NDARUB231LHN NDARUB495UD1 NDARUD776KFT NDARUE483WZ4 NDARUG492VF0 NDARUJ894ZXG NDARUK329RUU NDARUL675RXW NDARUM797TFA NDARUP908XUJ NDARUV578DU2 NDARUY730ANT NDARVA930UA3 NDARVC305AC6 NDARVC716GEE NDARVD194JX2 NDARVH033CA4 NDARVK720WZ0 NDARVK922KE5 NDARVL697YGK NDARVN270UU2 NDARVN648NN2 NDARVN899GWP NDARVN920VHJ NDARVT072LX2 NDARWA433WYZ NDARWC427JB2 NDARWC801CB5 NDARWD585PRZ NDARWD911WBU NDARWH779MZ2 NDARWJ064WYP NDARWJ498CZY NDARWK983JFE NDARWM656UWL NDARWM848AKP NDARWN709HA2 NDARWN885MGD NDARWT086XMF NDARWU876CWH NDARWV568MEU NDARWV794VM2 NDARWX711LBK NDARXD345GBN NDARXD710RLN NDARXE542EMB NDARXF358XGE NDARXG646PM9 NDARXG767MTB NDARXH393TMM NDARXH529MTX NDARXL023NG9 NDARXN764AC7 NDARXP557DLJ NDARXT256FRP NDARXT256RNV NDARYB392JWP NDARYC243UW5 NDARYC466ER1 NDARYC594EHN NDARYF338WW1 NDARYG391PMU NDARYG665JUD NDARYJ301DYN NDARYJ638RTN NDARYM334BZ5 NDARYN595JMA NDARYU898ETS NDARYX806FL1 NDARYY022HBW NDARYZ489EHH NDARZC344VH2 NDARZE685UJ5 NDARZG690NHH NDARZW472CCF NDARZZ740MLM")
arraylength=${#SESID[@]}
for ((i=0; i<${arraylength}; i++));do
qunexContainer createBatch \
--sfile="subject_hcp.txt" \
--tfile="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.RU_T1w_T2w.txt" \
--overwrite="append" \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--subjects=${SESID[$i]} \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=0-00:20:00,ntasks=1,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic_bigmem"
done
mv slurm* /gpfs/project/fas/n3/Studies/HBN/processing/logs/createBatchSlurm

## 20200608 - n=1 - NDARXH393TMM - missing T2w mapping, single subject issue. Manual remapping. + rerun setupHCP and HCP1
#run DM 6/22/20
qunexContainer setupHCP \
--sfolder="/gpfs/project/fas/n3/Studies/HBN/subjects/NDARXH393TMM" \
--sfile="subject_hcp.txt" \
--scheduler="SLURM,time=1-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif"; \


##### Minimal Preprocessing Pipeline
## hcp1 ##
# run 190912 39793291 190913 39879328
#run DM 02-19-2020
qunexContainer hcp1 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.RU_T1w_T2w.txt" \
--cores="1" \
--hcp_t2="t2" \
--overwrite="no" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=7-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic"

## 20200608 -n=1 - missing T2w
# run DM 6/22/20
qunexContainer hcp1 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.RU_T1w_T2w.txt" \
--subjid="NDARXH393TMM" \
--cores="1" \
--hcp_t2="t2" \
--overwrite="yes" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=1-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic"

#n=159 sessions
#to run DM 07-20-20 (change subject list)
SUBJECTLIST="NDARAC495TJ2 NDARAD224CRB NDARAE270LEZ NDARAH304ED7 NDARAJ689BVN NDARAK738BGC NDARAM848GTE NDARAN262WK6 NDARAP522AFK NDARAP785CTE NDARAP964VDB NDARAT358XM9 NDARAU708TL8 NDARAU967RWU NDARAV820UEP NDARAX272ZJL NDARAX283MAK NDARAX358NB5 NDARAY283AU1 NDARBC240LNC NDARBH133TK6 NDARBH228RDW NDARBL042LWN NDARBL444FBA NDARBL935ZUA NDARBM433VER NDARBT607PZL NDARBV577EE0 NDARBW026UGE NDARBW403EVZ NDARCA740UC8 NDARCG438NML NDARCH001CN2 NDARCH868WVX NDARCJ433TCG NDARCU621EBN NDARCV154DB9 NDARCV981XUY NDARCW946WNE NDARCY036NTA NDARCY178KJP NDARCZ915NC1 NDARDA472JE3 NDARDA573XGG NDARDA665DRH NDARDC843HHM NDARDE283PLC NDARDF568GL5 NDARDL291DN4 NDARDN489EXJ NDARDR236FWH NDARDR950CGG NDARDT181RP4 NDARDT499DWP NDARDU853XZ6 NDARDX872VH6 NDARDZ147ETZ NDARDZ528DLZ NDARDZ627XFA NDAREC277JCP NDAREC480KFA NDARED628HMQ NDAREF624KJN NDAREF848YWD NDAREG590BNY NDAREJ923FZU NDAREK575JNM NDAREM609ZXW NDAREP505XAD NDAREV617HAP NDAREW661NZJ NDAREW671HZW NDAREX065KJU NDAREX589EXG NDARFA165XBV NDARFA737TG6 NDARFE299MWU NDARFE526NK3 NDARFK027LB0 NDARFM328XW4 NDARFM948RTJ NDARFR095UJK NDARFR301KKP NDARFT964EU8 NDARFU444HEF NDARFV685ZT2 NDARFX710UZA NDARGA048BD8 NDARGA507DCC NDARGD425PTN NDARGH074MU6 NDARGK672URV NDARGK943RL3 NDARGL936KTV NDARGN044FE4 NDARGR354WBH NDARGU395RFP NDARGV948BFZ NDARGX760NYV NDARHB689WH7 NDARHC453LC1 NDARHF545HFW NDARHG065YHQ NDARHG294AFG NDARHK526BY1 NDARHL684WYU NDARHP841RMR NDARHR099EWX NDARHR140GMB NDARHT095YB4 NDARHT829KKB NDARHT844LZR NDARHX418ZGJ NDARJ257ZU2 NDARJB233RL7 NDARJB355YHK NDARJB366HYJ NDARJD235KZA NDARJE070PLA NDARJG298YVA NDARJG687YYX NDARJH367WKY NDARJH707GJM NDARJH99CWH NDARJJ767FBH NDARJM036PVX NDARJM296MDW NDARJN531EN3 NDARJP146GT9 NDARJT064LRE NDARJT588ZAX NDARJX505XD6 NDARJZ526HN3 NDARKD064EVC NDARKE726AMA NDARKF779EK2 NDARKH171DG8 NDARKH298MA3 NDARKH444AGK NDARKJ322ELL NDARKK000PNQ NDARKK392ZX2 NDARKK774VP5 NDARKM784VA7 NDARKN346XZH NDARKN848XH8 NDARKX665ZD3 NDARKZ634RVX NDARLB671TLU NDARLD738DUM NDARLD978JVJ NDARLE417FRX NDARLE417RA4 NDARLP246NT6 NDARLU111UYF NDARMH559LKK NDARMJ495DE0 NDARMW473LL1 NDARNE196LV0"
for file in ${SUBJECTLIST}; do \
 qunexContainer hcp1 \
 --subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
 --sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.RU_T1w_T2w.txt" \
 --subjid=${file} \
 --cores="4" \
 --hcp_t2="t2" \
 --overwrite="yes" \
 --container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
 --scheduler="SLURM,time=7-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic"
done

## hcp2 ##
#run DM 6/28/20 all subj
qunexContainer hcp2 \
 --subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
 --sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.RU_T1w_T2w.txt" \
 --cores="4" \
 --hcp_t2="t2" \
 --overwrite="no" \
 --container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
 --scheduler="SLURM,time=4-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic"
 
#re-run DM n=159 sessions 7/6/2020
SUBJECTLIST="NDARAC495TJ2 NDARAD224CRB NDARAE270LEZ NDARAH304ED7 NDARAJ689BVN NDARAK738BGC NDARAM848GTE NDARAN262WK6 NDARAP522AFK NDARAP785CTE NDARAP964VDB NDARAT358XM9 NDARAU708TL8 NDARAU967RWU NDARAV820UEP NDARAX272ZJL NDARAX283MAK NDARAX358NB5 NDARAY283AU1 NDARBC240LNC NDARBH133TK6 NDARBH228RDW NDARBL042LWN NDARBL444FBA NDARBL935ZUA NDARBM433VER NDARBT607PZL NDARBV577EE0 NDARBW026UGE NDARBW403EVZ NDARCA740UC8 NDARCG438NML NDARCH001CN2 NDARCH868WVX NDARCJ433TCG NDARCU621EBN NDARCV154DB9 NDARCV981XUY NDARCW946WNE NDARCY036NTA NDARCY178KJP NDARCZ915NC1 NDARDA472JE3 NDARDA573XGG NDARDA665DRH NDARDC843HHM NDARDE283PLC NDARDF568GL5 NDARDL291DN4 NDARDN489EXJ NDARDR236FWH NDARDR950CGG NDARDT181RP4 NDARDT499DWP NDARDU853XZ6 NDARDX872VH6 NDARDZ147ETZ NDARDZ528DLZ NDARDZ627XFA NDAREC277JCP NDAREC480KFA NDARED628HMQ NDAREF624KJN NDAREF848YWD NDAREG590BNY NDAREJ923FZU NDAREK575JNM NDAREM609ZXW NDAREP505XAD NDAREV617HAP NDAREW661NZJ NDAREW671HZW NDAREX065KJU NDAREX589EXG NDARFA165XBV NDARFA737TG6 NDARFE299MWU NDARFE526NK3 NDARFK027LB0 NDARFM328XW4 NDARFM948RTJ NDARFR095UJK NDARFR301KKP NDARFT964EU8 NDARFU444HEF NDARFV685ZT2 NDARFX710UZA NDARGA048BD8 NDARGA507DCC NDARGD425PTN NDARGH074MU6 NDARGK672URV NDARGK943RL3 NDARGL936KTV NDARGN044FE4 NDARGR354WBH NDARGU395RFP NDARGV948BFZ NDARGX760NYV NDARHB689WH7 NDARHC453LC1 NDARHF545HFW NDARHG065YHQ NDARHG294AFG NDARHK526BY1 NDARHL684WYU NDARHP841RMR NDARHR099EWX NDARHR140GMB NDARHT095YB4 NDARHT829KKB NDARHT844LZR NDARHX418ZGJ NDARJ257ZU2 NDARJB233RL7 NDARJB355YHK NDARJB366HYJ NDARJD235KZA NDARJE070PLA NDARJG298YVA NDARJG687YYX NDARJH367WKY NDARJH707GJM NDARJH99CWH NDARJJ767FBH NDARJM036PVX NDARJM296MDW NDARJN531EN3 NDARJP146GT9 NDARJT064LRE NDARJT588ZAX NDARJX505XD6 NDARJZ526HN3 NDARKD064EVC NDARKE726AMA NDARKF779EK2 NDARKH171DG8 NDARKH298MA3 NDARKH444AGK NDARKJ322ELL NDARKK000PNQ NDARKK392ZX2 NDARKK774VP5 NDARKM784VA7 NDARKN346XZH NDARKN848XH8 NDARKX665ZD3 NDARKZ634RVX NDARLB671TLU NDARLD738DUM NDARLD978JVJ NDARLE417FRX NDARLE417RA4 NDARLP246NT6 NDARLU111UYF NDARMH559LKK NDARMJ495DE0 NDARMW473LL1 NDARNE196LV0"
for file in ${SUBJECTLIST}; do \
 qunexContainer hcp2 \
 --subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
 --sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.RU_T1w_T2w.txt" \
 --subjid=${file} \
 --cores="4" \
 --hcp_t2="t2" \
 --overwrite="no" \
 --container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
 --scheduler="SLURM,time=4-00:00:00,ntasks=4,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic"
done
 
#no logs after 7/6 NDARAC495TJ2 NDARAD224CRB NDARAE270LEZ NDARAH304ED7 NDARAJ689BVN NDARAK738BGC NDARAM848GTE NDARAN262WK6 NDARAP522AFK NDARAP785CTE NDARAP964VDB NDARAT358XM9 NDARAU708TL8 NDARAU967RWU NDARAV820UEP NDARAX272ZJL NDARAX283MAK NDARAX358NB5 NDARAY283AU1 NDARBC240LNC NDARBH133TK6 NDARBH228RDW NDARBL042LWN NDARBL444FBA NDARBL935ZUA NDARBM433VER NDARBT607PZL NDARBV577EE0 NDARBW026UGE NDARBW403EVZ NDARCA740UC8 NDARCG438NML NDARCH001CN2 NDARCH868WVX NDARCJ433TCG NDARCU621EBN NDARCV154DB9 NDARCV981XUY NDARCW946WNE NDARCY036NTA NDARCY178KJP NDARCZ915NC1 NDARDA472JE3 NDARDA573XGG NDARDA665DRH NDARDC843HHM NDARDE283PLC NDARDF568GL5 NDARDL291DN4 NDARDN489EXJ NDARDR236FWH NDARDR950CGG NDARDT181RP4 NDARDT499DWP NDARDU853XZ6 NDARDX872VH6 NDARDZ147ETZ NDARDZ528DLZ NDARDZ627XFA NDAREC277JCP NDAREC480KFA NDARED628HMQ NDAREF624KJN NDAREF848YWD NDAREG590BNY NDAREJ923FZU NDAREK575JNM NDAREM609ZXW NDAREP505XAD NDAREV617HAP NDAREW661NZJ NDAREW671HZW NDAREX065KJU NDAREX589EXG NDARFA165XBV NDARFA737TG6 NDARFE299MWU NDARFE526NK3 NDARFK027LB0 NDARFM328XW4 NDARFM948RTJ NDARFR095UJK NDARFR301KKP NDARFT964EU8 NDARFU444HEF NDARFV685ZT2 NDARFX710UZA NDARGA048BD8 NDARGA507DCC NDARGD425PTN NDARGH074MU6 NDARGK672URV NDARGK943RL3 NDARGL936KTV NDARGN044FE4 NDARGR354WBH NDARGU395RFP NDARGV948BFZ NDARGX760NYV NDARHB689WH7 NDARHC453LC1 NDARHF545HFW NDARHG065YHQ NDARHG294AFG NDARHK526BY1 NDARHL684WYU NDARHP841RMR NDARHR099EWX NDARHR140GMB NDARHT095YB4 NDARHT829KKB NDARHT844LZR NDARHX418ZGJ NDARJ257ZU2 NDARJB233RL7 NDARJB355YHK NDARJB366HYJ NDARJD235KZA NDARJE070PLA NDARJG298YVA NDARJG687YYX NDARJH367WKY NDARJH707GJM NDARJH99CWH NDARJJ767FBH NDARJM036PVX NDARJM296MDW NDARJN531EN3 NDARJP146GT9 NDARJT064LRE NDARJT588ZAX NDARJX505XD6 NDARJZ526HN3 NDARKD064EVC NDARKE726AMA NDARKF779EK2 NDARKH171DG8 NDARKH298MA3 NDARKH444AGK NDARKJ322ELL NDARKK000PNQ NDARKK392ZX2 NDARKK774VP5 NDARKM784VA7 NDARKN346XZH NDARKN848XH8 NDARKX665ZD3 NDARKZ634RVX NDARLB671TLU NDARLD738DUM NDARLD978JVJ NDARLE417FRX NDARLE417RA4 NDARLP246NT6 NDARLU111UYF NDARMH559LKK NDARMJ495DE0 NDARMW473LL1 NDARNE196LV0

## hcp3 ##

## hcp4 ##

## hcp5 ##

## mapHCPData ##

## createBOLDBrainMasks ##

## computeBOLDStats ##

## createStatsReport ##

## extractNuisanceSignal ##




###########################################################################################
## 8. ###################### RU_T1w_T2w-NONE preprocessing ############################
###########################################################################################
#batchfile: subjects.RU_T1w_T2w-NONE.txt

## createBatch ##
declare -a SESID=("NDARAA948VFH NDARAC853DTE NDARAC904DMU NDARAD232HVV NDARAE012DGA NDARAE358VBE NDARAG340ERT NDARAH503YG1 NDARAH948UF0 NDARAM675UR8 NDARAN814UPR NDARAP176AD1 NDARAP782TVC NDARAT581NDH NDARAV610EY3 NDARAW179AYF NDARBA680RFY NDARBC734UVY NDARBE091BGD NDARBE123PWH NDARBE641DGZ NDARBF176LPM NDARBF805EHN NDARBG574KF4 NDARBG831VK4 NDARBJ159HXB NDARBJ482HJL NDARBK082PDD NDARBM173BJG NDARBM839WR5 NDARBR740NKV NDARBU607ZZ3 NDARBU730PN8 NDARBU928LV0 NDARBV059CGE NDARBV680AA8 NDARBX121UM9 NDARBX400RTC NDARBX974XDR NDARCA116GH8 NDARCA153NKE NDARCA578CEB NDARCA690EBC NDARCD357CZR NDARCE353XKH NDARCE721YB5 NDARCF247TDJ NDARCG037CX4 NDARCG073GZ6 NDARCH881EFG NDARCJ170CT9 NDARCJ363KLE NDARCJ475WJP NDARCK647MU6 NDARCL016NHB NDARCL105LUE NDARCL590LPD NDARCM135DVC NDARCM302VJ1 NDARCN669XPR NDARCR499NE4 NDARCU118LMX NDARCU417HRA NDARCU865PBV NDARCV944JA6 NDARCW071AU5 NDARCW094JCG NDARCW611MK5 NDARCW933FD5 NDARCW963FP9 NDARCX053GU5 NDARCZ770BRG NDARCZ947WU5 NDARDB146NWY NDARDC704GKW NDARDC987BMU NDARDD531EP2 NDARDE294HNX NDARDF373ZDW NDARDH270YR5 NDARDL511UND NDARDM118LR6 NDARDP786HE6 NDARDR067YMC NDARDR458MR7 NDARDT528ZZJ NDARDU986RBM NDARDV222JZ6 NDARDW416KWZ NDARDY150ZP9 NDARDZ010EDH NDARDZ058NZN NDAREB093GH6 NDAREC078VFT NDAREC648WEL NDAREC964CRA NDAREF164ZUJ NDAREF389RY2 NDAREF893ZM8 NDAREG561ML5 NDAREH074NG8 NDAREK801BPB NDAREM703YFD NDAREM731BYM NDAREM887YY8 NDAREN519BLJ NDAREN667YTZ NDARER970AEF NDARET550NXC NDAREU551GPC NDAREV527ZRF NDAREV601CE7 NDAREX091KUR NDAREY778CR9 NDARFA402LMW NDARFA815FXE NDARFA860RPD NDARFB908HVX NDARFC203HCD NDARFD822TY5 NDARFE163HVN NDARFF644ZGD NDARFG568PXZ NDARFK477WX9 NDARFK610GY5 NDARFL506HVX NDARFR108JNB NDARFR820KFF NDARFT881VT6 NDARFV780ABD NDARFW578RU9 NDARFW972KFQ NDARFX455JFY NDARFY009MNL NDARGA056TMW NDARGA499CKF NDARGA815EUZ NDARGB040MGR NDARGB441VVD NDARGD507TDZ NDARGE536BGD NDARGE946RCB NDARGF367KVL NDARGG205WVN NDARGG539YGN NDARGH634ME7 NDARGH775KF5 NDARGH790CEF NDARGJ395FKP NDARGK041TPB NDARGK736HF4 NDARGL800LDW NDARGT267UZR NDARGT551AFK NDARGT682ZWN NDARGU100JH4 NDARGU485JJA NDARGU729WUR NDARGV781AMW NDARGW404GJL NDARGX443CEU NDARGY622NG6 NDARGZ038DRL NDARGZ361JJ9 NDARHA387FPM NDARHB764VZ2 NDARHC462NGR NDARHC737MHK NDARHD507TEF NDARHE283KZN NDARHF150FDY NDARHF351AA6 NDARHG152GZC NDARHG321LLD NDARHJ034LDM NDARHJ945PV0 NDARHL164JHH NDARHM413HVA NDARHM421JUP NDARHM611GDR NDARHN067BTE NDARHN158DC6 NDARHN749RW4 NDARHP924ZHW NDARHR372GJ7 NDARHR753ZKU NDARHU391FD7 NDARHV527DNK NDARHW718DTW NDARHY177LY9 NDARHZ255RA6 NDARHZ923PAH NDARJA157YB3 NDARJB027GMR NDARJE686DJL NDARJF755DT9 NDARJG300HWH NDARJG488XHT NDARJG740PM8 NDARJG821GH3 NDARJJ413MNH NDARJK910PDK NDARJL303FKR NDARJM239GN4 NDARJM828PAL NDARJP444DZM NDARJT517YHZ NDARJT523MV7 NDARJV268PNW NDARJV377HG4 NDARJW315BUA NDARJW373UE3 NDARJW685KBA NDARJY033DKZ NDARJY141RFE NDARJZ089HVP NDARJZ274PRQ NDARJZ679KXJ NDARKA085YRG NDARKA627LF8 NDARKA946MJ1 NDARKB547TCK NDARKC880ZHY NDARKD134TCX NDARKF909WM5 NDARKG720WXN NDARKG859AGN NDARKH837TB2 NDARKK732JW3 NDARKL916FDC NDARKM301DY0 NDARKM497VKX NDARKM635UY0 NDARKM941XLL NDARKN509RP9 NDARKP815KPZ NDARKT811ATJ NDARKU616UBL NDARKV965WLU NDARKW521EMY NDARKW738AMY NDARKY667THK NDARLB547HJD NDARLD016VCA NDARLD287MLP NDARLE554GYT NDARLF142AF5 NDARLF480DMW NDARLH979WFX NDARLJ334YD0 NDARLJ356HAQ NDARLJ654TZ0 NDARLJ886BFK NDARLL720BGU NDARLL790WLF NDARLL914UW4 NDARLN070VX7 NDARLN778RYN NDARLN961XGP NDARLP624GFH NDARLR030EW6 NDARLU606ZDD NDARLV387GP4 NDARLX836EHJ NDARLY483UNZ NDARLY585ZVN NDARMA449JDZ NDARMC325JCN NDARMC759CX3 NDARMD575AXD NDARMF116AFR NDARMF508PA2 NDARMG196KV4 NDARMH249AWF NDARMJ219AKU NDARMJ334ZK3 NDARMJ849UKD NDARML024FF2 NDARML406ZB8 NDARMM005DLK NDARMM137PT6 NDARMM326JCB NDARMM951YEH NDARMN302YAV NDARMN376BMF NDARMN695VFH NDARMP745EAC NDARMR039JV5 NDARMR277TT7 NDARMT064WBB NDARMT732GKM NDARMT784NED NDARMU053YEU NDARMU589LP6 NDARMV274TAY NDARMV718DYL NDARMW178UDD NDARMY294VNE NDARMZ200GVD NDARMZ687XRR NDARNB674VMY NDARNC561KDP NDARND348HB3 NDARNE758RD6 NDARNF994TPA NDARNK241ZXA NDARNK329VC3 NDARNK768THB NDARNK826AFY NDARNL134VF0 NDARNL807DKC NDARNM783ZVV NDARNN218UGY NDARNR709MMQ NDARNR734JZH NDARNR773DL4 NDARNT541VT2 NDARNU137XR4 NDARNU497GTX NDARNV399BV4 NDARNX218UY5 NDARNY875DR2 NDARNZ615UEU NDARNZ792HBN NDARNZ917TDK NDARPA570LBF NDARPA827UBJ NDARPC714TKA NDARPC817XZ5 NDARPE056ACA NDARPF179GNV NDARPG134TF1 NDARPH834YB1 NDARPH844KP2 NDARPL306LC6 NDARPM105MKA NDARPT910NEE NDARPU897CM5 NDARPV009TYX NDARPV145KGL NDARPV303LAX NDARPW313LAJ NDARPW577WJ7 NDARPW635LN4 NDARPW786GC4 NDARPW915RGD NDARPX155RF3 NDARPX219TW0 NDARRA537FWW NDARRA717GYV NDARRA767WB7 NDARRA933RLX NDARRB359CRR NDARRB942UWU NDARRC016UZE NDARRC190NKB NDARRD326KB9 NDARRF897HB5 NDARRG199RU4 NDARRJ989YPA NDARRK213WCF NDARRK882CLT NDARRL660CME NDARRL685WB7 NDARRM320RHN NDARRN444MJG NDARRP163YRC NDARRP818DWL NDARRT038VG1 NDARRU720LG4 NDARRV480PU1 NDARRV837BZQ NDARRW100AU0 NDARRW940BL6 NDARRX819BZ0 NDARRY268AF2 NDARRY280KNW NDARRY715CY4 NDARTE424BUF NDARTE785ZMJ NDARTF133LLM NDARTH473LF8 NDARTJ032FJ2 NDARTK682LJE NDARTK691PJJ NDARTK834FT9 NDARTK933KL9 NDARTK950DY5 NDARTL336THT NDARTN158LRF NDARTN487KDK NDARTP313AGH NDARTP795WU2 NDARTT194LTU NDARTT242GNN NDARTU777GVV NDARTW685ENR NDARTW850GHU NDARTW855BPJ NDARTW889JN9 NDARTX659HAF NDARTX795AKR NDARUA832MYV NDARUC851WHU NDARUE533XNH NDARUE603CHQ NDARUG278FNY NDARUG323DM3 NDARUJ744NEU NDARUJ779NM0 NDARUL224GN6 NDARUL456EER NDARUM791WPF NDARUN221VCJ NDARUN300FG1 NDARUP249AMD NDARUR987CDM NDARUT018UYN NDARUT470BM4 NDARUV263YB5 NDARUW816MP3 NDARUW904FMQ NDARUX216VHK NDARUX284GGB NDARUX886JLM NDARUZ206DRV NDARVB297WUM NDARVC310XV2 NDARVD635FX8 NDARVD685RRJ NDARVG597HNL NDARVL555VVA NDARVP135ZGE NDARVP281CJ4 NDARVP285RXV NDARVT454LAE NDARVT488RXJ NDARVU683CTN NDARVV174JHW NDARVV199XK2 NDARVX162AZU NDARVY366HWJ NDARWA351ZE2 NDARWA513WM2 NDARWA544RDT NDARWA622HHZ NDARWG798MJG NDARWG831JJ8 NDARWH725TXP NDARWJ217HDQ NDARWJ321WKG NDARWK065NJ9 NDARWM319UU2 NDARWM527PRT NDARWN523GVF NDARWN691CG7 NDARWP595TE6 NDARWP634RZL NDARWP954GPJ NDARWR678HLF NDARWR732NZE NDARWT389BYY NDARWT449PUN NDARWV405ZW0 NDARWV449GEM NDARWW003WWW NDARWW005GCU NDARWX338NDL NDARWZ024UYK NDARXB286YBR NDARXC878WB2 NDARXD388TTE NDARXD502MC1 NDARXF203DCD NDARXG108HK2 NDARXG571WPL NDARXG670HFE NDARXG736VP9 NDARXG995EV6 NDARXH597ML1 NDARXK076XU8 NDARXL588FFJ NDARXR637JER NDARXR965TFK NDARXT792GY8 NDARXT822TAA NDARXU018RGY NDARXV445NYZ NDARXX895FNJ NDARXY162ERA NDARXY240WJC NDARXY745NXJ NDARXY938XY7 NDARXZ685TU4 NDARYA503XVQ NDARYA556KP8 NDARYD195BDH NDARYD546HCB NDARYE521RDA NDARYF135ZHU NDARYF368WEA NDARYF728BEP NDARYG546ZFF NDARYG874EKA NDARYH951HH5 NDARYL124VM6 NDARYL758JGG NDARYN254VW6 NDARYR150UDP NDARYR829KD8 NDARYR994ELB NDARYT155NHX NDARYX592YYR NDARYY218LU2 NDARYY664KHF NDARYZ693DE2 NDARYZ770NA1 NDARYZ909VND NDARZA694WHF NDARZC499NVX NDARZD099KWW NDARZD415ZZ1 NDARZE850WXD NDARZH451LRZ NDARZJ016GL0 NDARZJ460RWZ NDARZJ603JM0 NDARZK732FZ0 NDARZK753WGR NDARZL724HAX NDARZL855WVA NDARZN277NR6 NDARZP630WYL NDARZU822WN3 NDARZW930MF2 NDARZY668NMV")
arraylength=${#SESID[@]}
for ((i=0; i<${arraylength}; i++));do
qunexContainer createBatch \
--sfile="subject_hcp.txt" \
--tfile="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.RU_T1w_T2w-NONE.txt" \
--overwrite="append" \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--subjects=${SESID[$i]} \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=0-00:20:00,ntasks=1,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic_bigmem"
done
mv slurm* /gpfs/project/fas/n3/Studies/HBN/processing/logs/createBatchSlurm


##### Minimal Preprocessing Pipeline
## hcp1 ##
# run 190912 39793824 190913 39879864
#run DM 02-19-2020
qunexContainer hcp1 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.RU_T1w_T2w-NONE.txt" \
--cores="1" \
--hcp_t2="NONE" \
--overwrite="no" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=7-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic_bigmem"

## hcp2 ##

## hcp3 ##

## hcp4 ##

## hcp5 ##

## mapHCPData ##

## createBOLDBrainMasks ##

## computeBOLDStats ##

## createStatsReport ##

## extractNuisanceSignal ##




############################################################################################
## - 9. ###################### SI_T1w-HCP_T2w-NONE preprocessing ############################
############################################################################################
#batchfile: subjects.SI_T1w-HCP_T2w-NONE.txt
## createBatch ##
declare -a SESID=("NDARAA075AMK NDARAA536PTU NDARAD481FXF NDARAE199TDD NDARAJ366ZFA NDARAK187ZLP NDARAM277WZT NDARAR025WX4 NDARAT100AEQ NDARAT299YRR NDARAV747WVL NDARAV894XWD NDARAV945MCQ NDARAY238DFL NDARBA507GCT NDARBA521RA8 NDARBB854DRN NDARBC580HR5 NDARBG702FED NDARBK669XJQ NDARBM213BEA NDARBN100LCD NDARBU112XZE NDARBV364MBC NDARBZ216FW8 NDARCA186WGH NDARCA789EE0 NDARCB959FY4 NDARCD401HGZ NDARCG984YXZ NDARCJ007GF8 NDARCL080RHP NDARCP360AFD NDARCT933HF2 NDARCV412MDW NDARCW419GBD NDARDA695XTL NDARDB804YHE NDARDC360DGB NDARDH328DR9 NDARDJ825GBP NDARDK983BDA NDARDM425CG2 NDARDN702GXX NDARDN770HY6 NDARDR658DRA NDARDU799BZF NDARDX469TC1 NDARDX561MRY NDARDX770PJK NDARDZ946KVL NDAREB290UCN NDAREC182WW2 NDARED047DTH NDARED632KNG NDAREE196FEG NDAREF057VX5 NDAREK375DKR NDAREK544ENR NDAREK918EC2 NDAREK947FYP NDAREL063PMX NDAREM018TJQ NDAREM141CKP NDARET653TAM NDARET949LMU NDAREU211JMY NDAREY962BM7 NDAREZ098ZPE NDARFA464HJQ NDARFB107PVH NDARFB500HHN NDARFH674DWX NDARFL411AT1 NDARFM080VAF NDARFN452VPC NDARFR109LKT NDARFT834NT1 NDARFU789PRX NDARFW130NGG NDARFW292PBD NDARFW444PN1 NDARFY612EMR NDARFZ296UNG NDARGA967MGC NDARGE366WNC NDARGH407KVG NDARGL834CMQ NDARGL963HU4 NDARGM498YFL NDARGM540EV8 NDARGM610LF0 NDARGR661YZG NDARGT022BEW NDARGU667MCK NDARGY054ENV NDARGY148EVU NDARHB781DD8 NDARHB993EV0 NDARHD059PEQ NDARHE236YLB NDARHF023VG3 NDARHF904CWB NDARHJ126UW2 NDARHJ523XGB NDARHJ946UPH NDARHK598YJC NDARHL238VL2 NDARHL358LGQ NDARHM273AXL NDARHM304AXP NDARHM615PJH NDARHP176DPE NDARHP558MGA NDARHR944BBY NDARHT218GFA NDARHW216PER NDARHX739YBW NDARHX877BLQ NDARHZ439EBY NDARJC514CE0 NDARJH925ZCD NDARJJ356DAL NDARJK085PZL NDARJM708VGE NDARJP133YL3 NDARJP489HCE NDARJR525HTX NDARJR687LGX NDARJT606WGQ NDARJT730WP0 NDARJV894XP2 NDARJX421FWR NDARJZ549HU8 NDARKA429EPF NDARKC403LRW NDARKC452YVR NDARKF615JNZ NDARKG785VAJ NDARKH421UB1 NDARKH741PL8 NDARKM551DA4 NDARKR010EN7 NDARKR195PL9 NDARKV482FU9 NDARKW531ACR NDARKW999WZD NDARKX346VTV NDARKX761BH9 NDARLA516PH1 NDARLB017MBJ NDARLB629BJ1 NDARLD990NH4 NDARLF283KJX NDARLG942AZ1 NDARLL389TUF NDARLP181HLA NDARLP858RAA NDARLZ104NDT NDARLZ228PCB NDARMA875ARE NDARMC412BCK NDARMD700NUE NDARME656MTN NDARME930DE7 NDARMH763YZD NDARMJ699RJN NDARML142BEK NDARML148UCE NDARMM386PL6 NDARMM782KJK NDARMM878ZR1 NDARMM905VYR NDARMM990URX NDARMN450PEH NDARMR242UKQ NDARMU269TFY NDARMU488APK NDARMV247HRA NDARMV410ZFY NDARMW252AJW NDARMX032AU3 NDARMY064EAD NDARMY533CYM NDARMY967HNA NDARMZ908DUR NDARNB440UE4 NDARNB824ARJ NDARNE511XHU NDARNF954MK3 NDARNG309KZ8 NDARNG689AAP NDARNH342XLK NDARNJ687DMC NDARNJ715JPV NDARNJ894VH2 NDARNL599TMZ NDARNM624PDC NDARNT042GRA NDARNT572CMD NDARNT939YMG NDARNU249EDF NDARNV332JF2 NDARNW218ZBU NDARPD977VX2 NDARPE404CMV NDARPE596LZL NDARPF118ABV NDARPG072ZZ7 NDARPL721WTD NDARPP337KUQ NDARPP703NX4 NDARPR768KT4 NDARPV249ZRF NDARPW482TVE NDARPX244EHJ NDARPZ621ZLE NDARRA733VWX NDARRD720XZK NDARRE333EKT NDARRH725XYA NDARRJ763GUF NDARRK457MBX NDARRL218DJ5 NDARRN619WHY NDARRP592GHK NDARRU600XWW NDARRZ199KNG NDARRZ653HKY NDARTA808DEQ NDARTF833WXB NDARTH610GMK NDARTK185PBH NDARTK657DV6 NDARTM946WJ7 NDARTR365NCY NDARTR840XP1 NDARTT759PC5 NDARTU768MY1 NDARTX012JHM NDARTY625VHZ NDARUA421HT8 NDARUD764NFJ NDARUF069EHR NDARUF389TXE NDARUF935UL3 NDARUG507AZX NDARUJ646APQ NDARUL341DD2 NDARUL881JR9 NDARUM569EV1 NDARUM991EE8 NDARUT792WX7 NDARUV753MY9 NDARUY876VL1 NDARVB04TJA NDARVB607WW4 NDARVB811FVD NDARVC246ZY8 NDARVE724GEF NDARVG148WHV NDARVG436WGG NDARVG461LA2 NDARVG971CHH NDARVH070WH6 NDARVJ504DAA NDARVM685MER NDARVN646NZP NDARVT231LJG NDARVX292KKC NDARVY007TEJ NDARWB685NUG NDARWB943YY9 NDARWC737UJ0 NDARWE145GN9 NDARWF090RZ7 NDARWF122UUJ NDARWJ019VGU NDARWJ087HKJ NDARWP237VB3 NDARWV155PRG NDARWV470ATB NDARWV677EFC NDARWW901MTC NDARWX033HYK NDARWX380JJK NDARWZ283CWB NDARWZ709DLY NDARXB704HFD NDARXC418YG7 NDARXE684LUY NDARXF441RHQ NDARXF623GEL NDARXF956ZU6 NDARXH017ZLE NDARXJ468UGL NDARXJ696AMX NDARXJ799NEB NDARXK164TNN NDARXK462WRZ NDARXN047RUT NDARXN425ZJB NDARXU437UFZ NDARXU679ZE8 NDARXY337ZH9 NDARYB563VRT NDARYH110YV9 NDARYH480GTD NDARYH996DA9 NDARYJ536MCR NDARYL272HDW NDARYL438DCK NDARYM257RR6 NDARYM695TZY NDARYM832PX3 NDARYN484LLR NDARYP495KFK NDARYU323ZDJ NDARYU620RH9 NDARYW903VN8 NDARYX530MZU NDARYY218AGA NDARYZ408VWW NDARZB377WZJ NDARZD991YLG NDARZE542ZVH NDARZF288FB7 NDARZF949WTW NDARZG263HRK NDARZG623FYX NDARZH517ZVK NDARZH629NVF NDARZJ414CAA NDARZP564MHU NDARZR567HWG NDARZT772PU4 NDARZV766YXP NDARZW013RUH")
arraylength=${#SESID[@]}
for ((i=0; i<${arraylength}; i++));do
qunexContainer createBatch \
--sfile="subject_hcp.txt" \
--tfile="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.SI_T1w-HCP_T2w-NONE.txt" \
--overwrite="append" \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--subjects=${SESID[$i]} \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=0-00:20:00,ntasks=1,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic_bigmem"
done
mv slurm* /gpfs/project/fas/n3/Studies/HBN/processing/logs/createBatchSlurm

## fieldmap files were named incorrectly so we ran ---  SUPPOSED TO BE FIXED
for file in NDAR*/hcp/*/unprocessed/FieldMap1; do echo $file; done | wc -l
334
cd /gpfs/project/fas/n3/Studies/HBN/subjects
for file in NDAR*/hcp/*/unprocessed/FieldMap1; do newFile=`echo $file | rev | cut -c 2- | rev`; mv $file $newFile; done
## nevermind there's a coding issue gonna rename those files back to what they should be
for file in NDAR*/hcp/*/unprocessed/FieldMap1; do newFile=`echo $file1`; echo $newFile; done


##### Minimal Preprocessing Pipeline
## hcp1 ##
# run 190912 39794169 190913 39880202
#run DM 02-18-2020 - failed
#run again DM 02-28-2020
 qunexContainer hcp1 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.SI_T1w-HCP_T2w-NONE.txt" \
--cores="1" \
--hcp_t2="NONE" \
--overwrite="no" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=7-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=10000,partition=pi_anticevic_bigmem"

# test 20200210 - failed
# test 20200615 - running - job 58515124
qunexContainer hcp1 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.SI_T1w-HCP_T2w-NONE.txt" \
--subjid="NDARLP858RAA" \
--cores="1" \
--hcp_t2="NONE" \
--overwrite="no" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=1-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=8000,partition=pi_anticevic"

## hcp2 ## TORUN
qunexContainer hcp2 \
--subjectsfolder="/gpfs/project/fas/n3/Studies/HBN/subjects" \
--sessions="/gpfs/project/fas/n3/Studies/ThalDev/processing/subjects.SI_T1w-HCP_T2w-NONE.txt" \
--subjid="NDARLP858RAA" \
--cores="1" \
--hcp_t2="NONE" \
--overwrite="no" \
--container="/gpfs/project/fas/n3/software/Singularity/qunex_suite-0_48_19_test.sif" \
--scheduler="SLURM,time=1-00:00:00,ntasks=1,cpus-per-task=1,mem-per-cpu=20000,partition=pi_anticevic"

## hcp3 ##

## hcp4 ##

## hcp5 ##

## mapHCPData ##

## createBOLDBrainMasks ##

## computeBOLDStats ##

## createStatsReport ##

## extractNuisanceSignal ##
